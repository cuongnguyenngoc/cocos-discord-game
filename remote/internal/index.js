System.register("chunks:///internal.js",["./rollupPluginModLoBabelHelpers-9a38d2ae.js","cc"],(function(){var e,t,a,i,n,o,r,s,l,d,h,p,c,g,u,m,f,S,b,_,w,P,M,R,y,v,E,C;return{setters:[function(r){e=r._,t=r.a,a=r.b,i=r.c,n=r.d,o=r.e},function(e){r=e.cclegacy,s=e.gfx,l=e._decorator,d=e.Camera,h=e.CCBoolean,p=e.CCInteger,c=e.CCFloat,g=e.Material,u=e.Texture2D,m=e.rendering,f=e.Component,S=e.geometry,b=e.renderer,_=e.assert,w=e.Layers,P=e.PipelineEventType,M=e.Vec2,R=e.Vec4,y=e.sys,v=e.pipeline,E=e.Vec3,C=e.clamp}],execute:function(){r._RF.push({},"cbf30kCUX9A3K+QpVC6wnzx","builtin-pipeline-types",void 0);var T,A,x,D,L,O,F,N,G,Q,B,H,z,I,W,k,U,V,j,X,Y,K,q,Z,J,$,ee,te,ae=s.SampleCount;function ie(){return{enabled:!1,sampleCount:ae.X4}}function ne(){return{msaa:ie(),enableShadingScale:!1,shadingScale:.5,bloom:{enabled:!1,material:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:2.3},toneMapping:{material:null},colorGrading:{enabled:!1,material:null,contribute:1,colorGradingMap:null},fsr:{enabled:!1,material:null,sharpness:.8},fxaa:{enabled:!1,material:null}}}function oe(e){e.msaa?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.sampleCount&&(e.sampleCount=ae.X4)}(e.msaa):e.msaa=ie(),void 0===e.enableShadingScale&&(e.enableShadingScale=!1),void 0===e.shadingScale&&(e.shadingScale=.5),e.bloom?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.enableAlphaMask&&(e.enableAlphaMask=!1),void 0===e.iterations&&(e.iterations=3),void 0===e.threshold&&(e.threshold=.8),void 0===e.intensity&&(e.intensity=2.3)}(e.bloom):e.bloom={enabled:!1,material:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:2.3},e.toneMapping?function(e){void 0===e.material&&(e.material=null)}(e.toneMapping):e.toneMapping={material:null},e.colorGrading?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.contribute&&(e.contribute=1),void 0===e.colorGradingMap&&(e.colorGradingMap=null)}(e.colorGrading):e.colorGrading={enabled:!1,material:null,contribute:1,colorGradingMap:null},e.fsr?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.sharpness&&(e.sharpness=.8)}(e.fsr):e.fsr={enabled:!1,material:null,sharpness:.8},e.fxaa?function(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null)}(e.fxaa):e.fxaa={enabled:!1,material:null}}r._RF.pop(),r._RF.push({},"de1c2EHcMhAIYRZY5nyTQHG","builtin-pipeline-settings",void 0);var re=l.ccclass,se=l.disallowMultiple,le=l.executeInEditMode,de=l.menu,he=l.property,pe=l.requireComponent;l.type,T=re("BuiltinPipelineSettings"),A=de("Rendering/BuiltinPipelineSettings"),x=pe(d),D=he(h),L=he({displayName:"Editor Preview (Experimental)",type:h}),O=he({group:{id:"MSAA",name:"Multisample Anti-Aliasing"},type:h}),F=he({group:{id:"MSAA",name:"Multisample Anti-Aliasing",style:"section"},type:p,range:[2,4,2]}),N=he({group:{id:"ShadingScale",name:"ShadingScale",style:"section"},type:h}),G=he({tooltip:"i18n:postprocess.shadingScale",group:{id:"ShadingScale",name:"ShadingScale"},type:c,range:[.01,4,.01],slide:!0}),Q=he({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:h}),B=he({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:g}),H=he({tooltip:"i18n:bloom.enableAlphaMask",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:h}),z=he({tooltip:"i18n:bloom.iterations",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:p,range:[1,6,1],slide:!0}),I=he({tooltip:"i18n:bloom.threshold",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:c,min:0}),W=he({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:h}),k=he({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:g}),U=he({tooltip:"i18n:color_grading.contribute",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:c,range:[0,1,.01],slide:!0}),V=he({tooltip:"i18n:color_grading.originalMap",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:u}),j=he({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:h}),X=he({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:g}),Y=he({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:h}),K=he({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:g}),q=he({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:c,range:[0,1,.01],slide:!0}),Z=he({group:{id:"ToneMapping",name:"ToneMapping",style:"section"},type:g}),T(J=A(J=x(J=se(J=le((ee=e(($=function(e){function o(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_settings",ee,n(t)),i(t,"_editorPreview",te,n(t)),t}t(o,e);var r=o.prototype;return r.getPipelineSettings=function(){return this._settings},r.onEnable=function(){oe(this._settings),this.getComponent(d).camera.pipelineSettings=this._settings},r.onDisable=function(){this.getComponent(d).camera.pipelineSettings=null},r._tryEnableEditorPreview=function(){void 0!==m&&(this._editorPreview?m.setEditorPipelineSettings(this._settings):this._disableEditorPreview())},r._disableEditorPreview=function(){void 0!==m&&(m.getEditorPipelineSettings()===this._settings&&m.setEditorPipelineSettings(null))},a(o,[{key:"editorPreview",get:function(){return this._editorPreview},set:function(e){this._editorPreview=e}},{key:"MsaaEnable",get:function(){return this._settings.msaa.enabled},set:function(e){this._settings.msaa.enabled=e}},{key:"msaaSampleCount",get:function(){return this._settings.msaa.sampleCount},set:function(e){e=Math.pow(2,Math.ceil(Math.log2(Math.max(e,2)))),e=Math.min(e,4),this._settings.msaa.sampleCount=e}},{key:"shadingScaleEnable",get:function(){return this._settings.enableShadingScale},set:function(e){this._settings.enableShadingScale=e}},{key:"shadingScale",get:function(){return this._settings.shadingScale},set:function(e){this._settings.shadingScale=e}},{key:"bloomEnable",get:function(){return this._settings.bloom.enabled},set:function(e){this._settings.bloom.enabled=e}},{key:"bloomMaterial",get:function(){return this._settings.bloom.material},set:function(e){this._settings.bloom.material!==e&&(this._settings.bloom.material=e)}},{key:"bloomEnableAlphaMask",get:function(){return this._settings.bloom.enableAlphaMask},set:function(e){this._settings.bloom.enableAlphaMask=e}},{key:"bloomIterations",get:function(){return this._settings.bloom.iterations},set:function(e){this._settings.bloom.iterations=e}},{key:"bloomThreshold",get:function(){return this._settings.bloom.threshold},set:function(e){this._settings.bloom.threshold=e}},{key:"bloomIntensity",get:function(){return this._settings.bloom.intensity},set:function(e){this._settings.bloom.intensity=e}},{key:"colorGradingEnable",get:function(){return this._settings.colorGrading.enabled},set:function(e){this._settings.colorGrading.enabled=e}},{key:"colorGradingMaterial",get:function(){return this._settings.colorGrading.material},set:function(e){this._settings.colorGrading.material!==e&&(this._settings.colorGrading.material=e)}},{key:"colorGradingContribute",get:function(){return this._settings.colorGrading.contribute},set:function(e){this._settings.colorGrading.contribute=e}},{key:"colorGradingMap",get:function(){return this._settings.colorGrading.colorGradingMap},set:function(e){this._settings.colorGrading.colorGradingMap=e}},{key:"fxaaEnable",get:function(){return this._settings.fxaa.enabled},set:function(e){this._settings.fxaa.enabled=e}},{key:"fxaaMaterial",get:function(){return this._settings.fxaa.material},set:function(e){this._settings.fxaa.material!==e&&(this._settings.fxaa.material=e)}},{key:"fsrEnable",get:function(){return this._settings.fsr.enabled},set:function(e){this._settings.fsr.enabled=e}},{key:"fsrMaterial",get:function(){return this._settings.fsr.material},set:function(e){this._settings.fsr.material!==e&&(this._settings.fsr.material=e)}},{key:"fsrSharpness",get:function(){return this._settings.fsr.sharpness},set:function(e){this._settings.fsr.sharpness=e}},{key:"toneMappingMaterial",get:function(){return this._settings.toneMapping.material},set:function(e){this._settings.toneMapping.material!==e&&(this._settings.toneMapping.material=e)}}]),o}(f)).prototype,"_settings",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne()}}),te=e($.prototype,"_editorPreview",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e($.prototype,"editorPreview",[L],Object.getOwnPropertyDescriptor($.prototype,"editorPreview"),$.prototype),e($.prototype,"MsaaEnable",[O],Object.getOwnPropertyDescriptor($.prototype,"MsaaEnable"),$.prototype),e($.prototype,"msaaSampleCount",[F],Object.getOwnPropertyDescriptor($.prototype,"msaaSampleCount"),$.prototype),e($.prototype,"shadingScaleEnable",[N],Object.getOwnPropertyDescriptor($.prototype,"shadingScaleEnable"),$.prototype),e($.prototype,"shadingScale",[G],Object.getOwnPropertyDescriptor($.prototype,"shadingScale"),$.prototype),e($.prototype,"bloomEnable",[Q],Object.getOwnPropertyDescriptor($.prototype,"bloomEnable"),$.prototype),e($.prototype,"bloomMaterial",[B],Object.getOwnPropertyDescriptor($.prototype,"bloomMaterial"),$.prototype),e($.prototype,"bloomEnableAlphaMask",[H],Object.getOwnPropertyDescriptor($.prototype,"bloomEnableAlphaMask"),$.prototype),e($.prototype,"bloomIterations",[z],Object.getOwnPropertyDescriptor($.prototype,"bloomIterations"),$.prototype),e($.prototype,"bloomThreshold",[I],Object.getOwnPropertyDescriptor($.prototype,"bloomThreshold"),$.prototype),e($.prototype,"colorGradingEnable",[W],Object.getOwnPropertyDescriptor($.prototype,"colorGradingEnable"),$.prototype),e($.prototype,"colorGradingMaterial",[k],Object.getOwnPropertyDescriptor($.prototype,"colorGradingMaterial"),$.prototype),e($.prototype,"colorGradingContribute",[U],Object.getOwnPropertyDescriptor($.prototype,"colorGradingContribute"),$.prototype),e($.prototype,"colorGradingMap",[V],Object.getOwnPropertyDescriptor($.prototype,"colorGradingMap"),$.prototype),e($.prototype,"fxaaEnable",[j],Object.getOwnPropertyDescriptor($.prototype,"fxaaEnable"),$.prototype),e($.prototype,"fxaaMaterial",[X],Object.getOwnPropertyDescriptor($.prototype,"fxaaMaterial"),$.prototype),e($.prototype,"fsrEnable",[Y],Object.getOwnPropertyDescriptor($.prototype,"fsrEnable"),$.prototype),e($.prototype,"fsrMaterial",[K],Object.getOwnPropertyDescriptor($.prototype,"fsrMaterial"),$.prototype),e($.prototype,"fsrSharpness",[q],Object.getOwnPropertyDescriptor($.prototype,"fsrSharpness"),$.prototype),e($.prototype,"toneMappingMaterial",[Z],Object.getOwnPropertyDescriptor($.prototype,"toneMappingMaterial"),$.prototype),J=$))||J)||J)||J)||J);r._RF.pop(),r._RF.push({},"ff9b0GZzgRM/obMbHGfCNbk","builtin-pipeline",void 0);var ce=S.AABB,ge=S.Sphere,ue=S.intersect,me=s.ClearFlagBit,fe=s.Color,Se=s.Format,be=s.FormatFeatureBit,_e=s.LoadOp,we=s.StoreOp,Pe=s.TextureType,Me=s.Viewport,Re=b.scene,ye=Re.CameraUsage,ve=Re.CSMLevel,Ee=Re.LightType;function Ce(e){return!!(e.clearFlag&(me.COLOR|me.STENCIL<<1))}function Te(e,t,a,i,n,o){e.shadowFixedArea||e.csmLevel===ve.LEVEL_1?(n.left=0,n.top=0,n.width=Math.trunc(t),n.height=Math.trunc(a)):(n.left=Math.trunc(i%2*.5*t),n.top=o>0?Math.trunc(.5*(1-Math.floor(i/2))*a):Math.trunc(.5*Math.floor(i/2)*a),n.width=Math.trunc(.5*t),n.height=Math.trunc(.5*a)),n.left=Math.max(0,n.left),n.top=Math.max(0,n.top),n.width=Math.max(1,n.width),n.height=Math.max(1,n.height)}var Ae=function(){this.isWeb=!1,this.isWebGL1=!1,this.isWebGPU=!1,this.isMobile=!1,this.isHDR=!1,this.useFloatOutput=!1,this.toneMappingType=0,this.shadowEnabled=!1,this.shadowMapFormat=Se.R32F,this.shadowMapSize=new M(1,1),this.usePlanarShadow=!1,this.screenSpaceSignY=1,this.supportDepthSample=!1,this.mobileMaxSpotLightShadowMaps=1,this.platform=new R(0,0,0,0)};function xe(e,t){var a=be.SAMPLED_TEXTURE|be.LINEAR_FILTER,i=e.device;t.isWeb=!y.isNative,t.isWebGL1=i.gfxAPI===s.API.WEBGL,t.isWebGPU=i.gfxAPI===s.API.WEBGPU,t.isMobile=y.isMobile,t.isHDR=e.pipelineSceneData.isHDR,t.useFloatOutput=e.getMacroBool("CC_USE_FLOAT_OUTPUT"),t.toneMappingType=e.pipelineSceneData.postSettings.toneMappingType;var n=e.pipelineSceneData.shadows;t.shadowEnabled=n.enabled,t.shadowMapFormat=v.supportsR32FloatTexture(e.device)?Se.R32F:Se.RGBA8,t.shadowMapSize.set(n.size),t.usePlanarShadow=n.enabled&&n.type===b.scene.ShadowType.Planar,t.screenSpaceSignY=e.device.capabilities.screenSpaceSignY,t.supportDepthSample=(e.device.getFormatFeatures(Se.DEPTH_STENCIL)&a)===a;var o=i.capabilities.screenSpaceSignY;t.platform.x=t.isMobile?1:0,t.platform.w=.5*o+.5<<1|.5*i.capabilities.clipSpaceSignY+.5}var De=ne(),Le=function(){this.settings=De,this.isMainGameWindow=!1,this.renderWindowId=0,this.colorName="",this.depthStencilName="",this.enableFullPipeline=!1,this.enableProfiler=!1,this.remainingPasses=0,this.enableShadingScale=!1,this.shadingScale=1,this.nativeWidth=1,this.nativeHeight=1,this.width=1,this.height=1,this.enableHDR=!1,this.radianceFormat=s.Format.RGBA8,this.copyAndTonemapMaterial=null,this.enableStoreSceneDepth=!1},Oe=new fe(0,0,0,0);function Fe(e,t,a,i){_(!!a.copyAndTonemapMaterial);var n=e.addRenderPass(a.nativeWidth,a.nativeHeight,"cc-tone-mapping");return n.addRenderTarget(a.colorName,_e.CLEAR,we.STORE,Oe),n.addTexture(i,"inputTexture"),n.setVec4("g_platform",t.platform),n.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(a.copyAndTonemapMaterial,1),n}function Ne(e,t,a){return e.startsWith(t)?""+t+(1-Number(e.charAt(t.length)))+"_"+a:t+"0_"+a}var Ge=function(){function e(){this.lights=[],this.shadowEnabledSpotLights=[],this._sphere=ge.create(0,0,0,1),this._boundingBox=new ce,this._rangedDirLightBoundingBox=new ce(0,0,0,.5,.5,.5)}var t=e.prototype;return t.cullLights=function(e,t,a){this.lights.length=0,this.shadowEnabledSpotLights.length=0;for(var i,n=o(e.spotLights);!(i=n()).done;){var r=i.value;r.baked||(ge.set(this._sphere,r.position.x,r.position.y,r.position.z,r.range),ue.sphereFrustum(this._sphere,t)&&(r.shadowEnabled?this.shadowEnabledSpotLights.push(r):this.lights.push(r)))}for(var s,l=o(e.sphereLights);!(s=l()).done;){var d=s.value;d.baked||(ge.set(this._sphere,d.position.x,d.position.y,d.position.z,d.range),ue.sphereFrustum(this._sphere,t)&&this.lights.push(d))}for(var h,p=o(e.pointLights);!(h=p()).done;){var c=h.value;c.baked||(ge.set(this._sphere,c.position.x,c.position.y,c.position.z,c.range),ue.sphereFrustum(this._sphere,t)&&this.lights.push(c))}for(var g,u=o(e.rangedDirLights);!(g=u()).done;){var m=g.value;ce.transform(this._boundingBox,this._rangedDirLightBoundingBox,m.node.getWorldMatrix()),ue.aabbFrustum(this._boundingBox,t)&&this.lights.push(m)}a&&this.shadowEnabledSpotLights.sort((function(e,t){return E.squaredDistance(a,e.position)-E.squaredDistance(a,t.position)}))},t._addLightQueues=function(e,t){for(var a,i=o(this.lights);!(a=i()).done;){var n=a.value,r=t.addQueue(m.QueueHint.BLEND,"forward-add");switch(n.type){case Ee.SPHERE:r.name="sphere-light";break;case Ee.SPOT:r.name="spot-light";break;case Ee.POINT:r.name="point-light";break;case Ee.RANGED_DIRECTIONAL:r.name="ranged-directional-light";break;default:r.name="unknown-light"}r.addScene(e,m.SceneFlags.BLEND,n)}},t.addSpotlightShadowPasses=function(e,t,a){for(var i,n=0,r=o(this.shadowEnabledSpotLights);!(i=r()).done;){var s=i.value,l=e.pipelineSceneData.shadows.size,d=e.addRenderPass(l.x,l.y,"default");if(d.name="SpotLightShadowPass"+n,d.addRenderTarget("SpotShadowMap"+n,_e.CLEAR,we.STORE,new fe(1,1,1,1)),d.addDepthStencil("SpotShadowDepth"+n,_e.CLEAR,we.DISCARD),d.addQueue(m.QueueHint.NONE,"shadow-caster").addScene(t,m.SceneFlags.OPAQUE|m.SceneFlags.MASK|m.SceneFlags.SHADOW_CASTER).useLightFrustum(s),++n>=a)break}},t.addLightQueues=function(e,t,a){this._addLightQueues(t,e);for(var i,n=0,r=o(this.shadowEnabledSpotLights);!(i=r()).done;){var s=i.value;if(e.addTexture("SpotShadowMap"+n,"cc_spotShadowMap"),e.addQueue(m.QueueHint.BLEND,"forward-add").addScene(t,m.SceneFlags.BLEND,s),++n>=a)break}},t.addLightPasses=function(e,t,a,i,n,r,s,l,d,h){this._addLightQueues(s,h);for(var p,c=0,g=d.pipelineSceneData.shadows.size,u=o(this.shadowEnabledSpotLights);!(p=u()).done;){var f=p.value,S=d.addRenderPass(g.x,g.y,"default");S.name="SpotlightShadowPass",S.addRenderTarget("ShadowMap"+i,_e.CLEAR,we.STORE,new fe(1,1,1,1)),S.addDepthStencil("ShadowDepth"+i,_e.CLEAR,we.DISCARD),S.addQueue(m.QueueHint.NONE,"shadow-caster").addScene(s,m.SceneFlags.OPAQUE|m.SceneFlags.MASK|m.SceneFlags.SHADOW_CASTER).useLightFrustum(f);var b=++c===this.shadowEnabledSpotLights.length?a:we.STORE;(h=d.addRenderPass(n,r,"default")).name="SpotlightWithShadowMap",h.setViewport(l),h.addRenderTarget(e,_e.LOAD),h.addDepthStencil(t,_e.LOAD,b),h.addTexture("ShadowMap"+i,"cc_spotShadowMap"),h.addQueue(m.QueueHint.BLEND,"forward-add").addScene(s,m.SceneFlags.BLEND,f)}return h},t.isMultipleLightPassesNeeded=function(){return this.shadowEnabledSpotLights.length>0},e}(),Qe=function(){function e(){this.forwardLighting=new Ge,this._viewport=new Me,this._clearColor=new fe(0,0,0,1),this._reflectionProbeClearColor=new E(0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return e.ConfigOrder},t.getRenderOrder=function(){return e.RenderOrder},t.configCamera=function(e,t,a){a.enableMainLightShadowMap=t.shadowEnabled&&!t.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,a.enableMainLightPlanarShadowMap=t.shadowEnabled&&t.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,a.enablePlanarReflectionProbe=a.isMainGameWindow||e.cameraUsage===ye.SCENE_VIEW,a.enableMSAA=a.settings.msaa.enabled&&!a.enableStoreSceneDepth&&!t.isWeb&&!t.isWebGL1,a.enableSingleForwardPass=t.isMobile||a.enableMSAA,++a.remainingPasses},t.windowResize=function(e,t,a,i,n,o,r){var s=m.ResourceFlags,l=m.ResourceResidency,d=i.renderWindowId,h=a.settings,p=a.enableShadingScale?Math.max(Math.floor(o*a.shadingScale),1):o,c=a.enableShadingScale?Math.max(Math.floor(r*a.shadingScale),1):r;if(a.enableMSAA&&(a.enableHDR?e.addTexture("MsaaRadiance"+d,Pe.TEX2D,a.radianceFormat,p,c,1,1,1,h.msaa.sampleCount,s.COLOR_ATTACHMENT,l.MEMORYLESS):e.addTexture("MsaaRadiance"+d,Pe.TEX2D,Se.RGBA8,p,c,1,1,1,h.msaa.sampleCount,s.COLOR_ATTACHMENT,l.MEMORYLESS),e.addTexture("MsaaDepthStencil"+d,Pe.TEX2D,Se.DEPTH_STENCIL,p,c,1,1,1,h.msaa.sampleCount,s.DEPTH_STENCIL_ATTACHMENT,l.MEMORYLESS)),e.addRenderTarget("ShadowMap"+d,t.shadowMapFormat,t.shadowMapSize.x,t.shadowMapSize.y),e.addDepthStencil("ShadowDepth"+d,Se.DEPTH_STENCIL,t.shadowMapSize.x,t.shadowMapSize.y),a.enableSingleForwardPass)for(var g=t.mobileMaxSpotLightShadowMaps,u=0;u!==g;++u)e.addRenderTarget("SpotShadowMap"+u,t.shadowMapFormat,t.shadowMapSize.x,t.shadowMapSize.y),e.addDepthStencil("SpotShadowDepth"+u,Se.DEPTH_STENCIL,t.shadowMapSize.x,t.shadowMapSize.y)},t.setup=function(e,t,a,i,n){var o=i.window.renderWindowId,r=i.scene,s=r.mainLight;--a.remainingPasses,_(a.remainingPasses>=0),this.forwardLighting.cullLights(r,i.frustum),a.enableMainLightShadowMap&&(_(!!s),this._addCascadedShadowMapPass(e,t,o,s,i)),a.enableSingleForwardPass&&this.forwardLighting.addSpotlightShadowPasses(e,i,t.mobileMaxSpotLightShadowMaps),this._tryAddReflectionProbePasses(e,a,o,s,i.scene),a.remainingPasses>0||a.enableShadingScale?(n.colorName=a.enableShadingScale?"ScaledRadiance0_"+o:"Radiance0_"+o,n.depthStencilName=a.enableShadingScale?"ScaledSceneDepth_"+o:"SceneDepth_"+o):(n.colorName=a.colorName,n.depthStencilName=a.depthStencilName);var l=this._addForwardRadiancePasses(e,t,a,o,i,a.width,a.height,s,n.colorName,n.depthStencilName,!a.enableMSAA,a.enableStoreSceneDepth?we.STORE:we.DISCARD);return a.enableStoreSceneDepth||(n.depthStencilName=""),0===a.remainingPasses&&a.enableShadingScale?Fe(e,t,a,n.colorName):l},t._addCascadedShadowMapPass=function(e,t,a,i,n){var o=m.QueueHint,r=m.SceneFlags,s=e.pipelineSceneData.shadows.size,l=s.x,d=s.y,h=this._viewport;h.left=h.top=0,h.width=l,h.height=d;var p=e.addRenderPass(l,d,"default");p.name="CascadedShadowMap",p.addRenderTarget("ShadowMap"+a,_e.CLEAR,we.STORE,new fe(1,1,1,1)),p.addDepthStencil("ShadowDepth"+a,_e.CLEAR,we.DISCARD);for(var c=e.pipelineSceneData.csmSupported?i.csmLevel:1,g=0;g!==c;++g){Te(i,l,d,g,this._viewport,t.screenSpaceSignY);var u=p.addQueue(o.NONE,"shadow-caster");t.isWebGPU||u.setViewport(this._viewport),u.addScene(n,r.OPAQUE|r.MASK|r.SHADOW_CASTER).useLightFrustum(i,g)}},t._tryAddReflectionProbePasses=function(e,t,a,i,n){var l=r.internal.reflectionProbeManager;if(l)for(var d,h=m.ResourceResidency,p=l.getProbes(),c=0,g=o(p);!(d=g()).done;){var u=d.value;if(u.needRender){var f=u.renderArea(),S=Math.max(Math.floor(f.x),1),_=Math.max(Math.floor(f.y),1);if(u.probeType===b.scene.ProbeType.PLANAR){if(!t.enablePlanarReflectionProbe)continue;var w=u.realtimePlanarTexture.window,P="PlanarProbeRT"+c,M="PlanarProbeDS"+c;e.addRenderWindow(P,t.radianceFormat,S,_,w),e.addDepthStencil(M,s.Format.DEPTH_STENCIL,S,_,h.MEMORYLESS);var R=e.addRenderPass(S,_,"default");R.name="PlanarReflectionProbe"+c,this._buildReflectionProbePass(R,t,a,u.camera,P,M,i,n)}if(4===++c)break}}},t._buildReflectionProbePass=function(e,t,a,i,n,o,r,s){void 0===s&&(s=null);var l=m.QueueHint,d=m.SceneFlags,h=t.enableMSAA?we.DISCARD:we.STORE;if(Ce(i)){this._reflectionProbeClearColor.x=i.clearColor.x,this._reflectionProbeClearColor.y=i.clearColor.y,this._reflectionProbeClearColor.z=i.clearColor.z;var p=m.packRGBE(this._reflectionProbeClearColor);this._clearColor.x=p.x,this._clearColor.y=p.y,this._clearColor.z=p.z,this._clearColor.w=p.w,e.addRenderTarget(n,_e.CLEAR,h,this._clearColor)}else e.addRenderTarget(n,_e.LOAD,h);i.clearFlag&me.DEPTH_STENCIL?e.addDepthStencil(o,_e.CLEAR,we.DISCARD,i.clearDepth,i.clearStencil,i.clearFlag&me.DEPTH_STENCIL):e.addDepthStencil(o,_e.LOAD,we.DISCARD),t.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(l.NONE,"reflect-map").addScene(i,d.OPAQUE|d.MASK|d.REFLECTION_PROBE,r||void 0,s||void 0)},t._addForwardRadiancePasses=function(e,t,a,i,n,o,r,s,l,d,h,p){void 0===h&&(h=!1),void 0===p&&(p=we.DISCARD);var c=m.QueueHint,g=m.SceneFlags,u=n.clearColor;this._clearColor.x=u.x,this._clearColor.y=u.y,this._clearColor.z=u.z,this._clearColor.w=u.w;var f=n.viewport;this._viewport.left=Math.round(f.x*o),this._viewport.top=Math.round(f.y*r),this._viewport.width=Math.max(Math.round(f.width*o),1),this._viewport.height=Math.max(Math.round(f.height*r),1);var S=!h&&a.enableMSAA;_(!S||a.enableSingleForwardPass);var b=a.enableSingleForwardPass?this._addForwardSingleRadiancePass(e,t,a,i,n,S,o,r,s,l,d,p):this._addForwardMultipleRadiancePasses(e,a,i,n,o,r,s,l,d,p);a.enableMainLightPlanarShadowMap&&this._addPlanarShadowQueue(n,s,b);var w=g.BLEND|(n.geometryRenderer?g.GEOMETRY:g.NONE);return b.addQueue(c.BLEND).addScene(n,w,s||void 0),b},t._addForwardSingleRadiancePass=function(e,t,a,i,n,o,r,s,l,d,h,p){var c;if(_(a.enableSingleForwardPass),o){var g="MsaaRadiance"+i,u="MsaaDepthStencil"+i,m=a.settings.msaa.sampleCount,f=e.addMultisampleRenderPass(r,s,m,0,"default");f.name="MsaaForwardPass",this._buildForwardMainLightPass(f,a,i,n,g,u,we.DISCARD,l),f.resolveRenderTarget(g,d),c=f}else(c=e.addRenderPass(r,s,"default")).name="ForwardPass",this._buildForwardMainLightPass(c,a,i,n,d,h,p,l);return _(void 0!==c),this.forwardLighting.addLightQueues(c,n,t.mobileMaxSpotLightShadowMaps),c},t._addForwardMultipleRadiancePasses=function(e,t,a,i,n,o,r,s,l,d){_(!t.enableSingleForwardPass);var h=e.addRenderPass(n,o,"default");h.name="ForwardPass";var p=this.forwardLighting.isMultipleLightPassesNeeded()?we.STORE:d;return this._buildForwardMainLightPass(h,t,a,i,s,l,p,r),h=this.forwardLighting.addLightPasses(s,l,d,a,n,o,i,this._viewport,e,h)},t._buildForwardMainLightPass=function(e,t,a,i,n,o,r,s,l){void 0===l&&(l=null);var d=m.QueueHint,h=m.SceneFlags;e.setViewport(this._viewport);var p=t.enableMSAA?we.DISCARD:we.STORE;Ce(i)?e.addRenderTarget(n,_e.CLEAR,p,this._clearColor):e.addRenderTarget(n,_e.LOAD,p),i.clearFlag&me.DEPTH_STENCIL?e.addDepthStencil(o,_e.CLEAR,r,i.clearDepth,i.clearStencil,i.clearFlag&me.DEPTH_STENCIL):e.addDepthStencil(o,_e.LOAD,r),t.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(d.NONE).addScene(i,h.OPAQUE|h.MASK,s||void 0,l||void 0)},t._addPlanarShadowQueue=function(e,t,a){var i=m.QueueHint,n=m.SceneFlags;a.addQueue(i.BLEND,"planar-shadow").addScene(e,n.SHADOW_CASTER|n.PLANAR_SHADOW|n.BLEND,t||void 0)},e}();Qe.ConfigOrder=100,Qe.RenderOrder=100;var Be=function(){function e(){this._clearColorTransparentBlack=new fe(0,0,0,0),this._bloomParams=new R(0,0,0,0),this._bloomTexSize=new R(0,0,0,0),this._bloomWidths=[],this._bloomHeights=[],this._bloomTexNames=[]}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 200},t.configCamera=function(e,t,a){a.enableBloom=a.settings.bloom.enabled&&!!a.settings.bloom.material,a.enableBloom&&++a.remainingPasses},t.windowResize=function(e,t,a,i){if(a.enableBloom)for(var n=i.renderWindowId,o=a.width,r=a.height,s=0;s!==a.settings.bloom.iterations+1;++s)o=Math.max(Math.floor(o/2),1),r=Math.max(Math.floor(r/2),1),e.addRenderTarget("BloomTex"+n+"_"+s,a.radianceFormat,o,r)},t.setup=function(e,t,a,i,n,o){if(!a.enableBloom)return o;--a.remainingPasses,_(a.remainingPasses>=0);var r=i.window.renderWindowId;return _(!!a.settings.bloom.material),this._addKawaseDualFilterBloomPasses(e,t,a,a.settings,a.settings.bloom.material,r,a.width,a.height,n.colorName)},t._addKawaseDualFilterBloomPasses=function(e,t,a,i,n,o,r,s,l){var d=m.QueueHint,h=i.bloom.iterations,p=h+1;this._bloomWidths.length=p,this._bloomHeights.length=p,this._bloomWidths[0]=Math.max(Math.floor(r/2),1),this._bloomHeights[0]=Math.max(Math.floor(s/2),1);for(var c=1;c!==p;++c)this._bloomWidths[c]=Math.max(Math.floor(this._bloomWidths[c-1]/2),1),this._bloomHeights[c]=Math.max(Math.floor(this._bloomHeights[c-1]/2),1);this._bloomTexNames.length=p;for(var g=0;g!==p;++g)this._bloomTexNames[g]="BloomTex"+o+"_"+g;this._bloomParams.x=t.useFloatOutput?1:0,this._bloomParams.x=0,this._bloomParams.z=i.bloom.threshold,this._bloomParams.w=i.bloom.enableAlphaMask?1:0;var u=e.addRenderPass(this._bloomWidths[0],this._bloomHeights[0],"cc-bloom-prefilter");u.addRenderTarget(this._bloomTexNames[0],_e.CLEAR,we.STORE,this._clearColorTransparentBlack),u.addTexture(l,"inputTexture"),u.setVec4("g_platform",t.platform),u.setVec4("bloomParams",this._bloomParams),u.addQueue(d.OPAQUE).addFullscreenQuad(n,0);for(var f=1;f!==p;++f){var S=e.addRenderPass(this._bloomWidths[f],this._bloomHeights[f],"cc-bloom-downsample");S.addRenderTarget(this._bloomTexNames[f],_e.CLEAR,we.STORE,this._clearColorTransparentBlack),S.addTexture(this._bloomTexNames[f-1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[f-1],this._bloomTexSize.y=this._bloomHeights[f-1],S.setVec4("g_platform",t.platform),S.setVec4("bloomTexSize",this._bloomTexSize),S.addQueue(d.OPAQUE).addFullscreenQuad(n,1)}for(var b=h;b-- >0;){var _=e.addRenderPass(this._bloomWidths[b],this._bloomHeights[b],"cc-bloom-upsample");_.addRenderTarget(this._bloomTexNames[b],_e.CLEAR,we.STORE,this._clearColorTransparentBlack),_.addTexture(this._bloomTexNames[b+1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[b+1],this._bloomTexSize.y=this._bloomHeights[b+1],_.setVec4("g_platform",t.platform),_.setVec4("bloomTexSize",this._bloomTexSize),_.addQueue(d.OPAQUE).addFullscreenQuad(n,2)}var w=e.addRenderPass(r,s,"cc-bloom-combine");return w.addRenderTarget(l,_e.LOAD,we.STORE),w.addTexture(this._bloomTexNames[0],"bloomTexture"),w.setVec4("g_platform",t.platform),w.setVec4("bloomParams",this._bloomParams),w.addQueue(d.BLEND).addFullscreenQuad(n,3),0===a.remainingPasses?Fe(e,t,a,l):w},e}(),He=function(){function e(){this._colorGradingTexSize=new M(0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 300},t.configCamera=function(e,t,a){var i=a.settings;a.enableColorGrading=i.colorGrading.enabled&&!!i.colorGrading.material&&!!i.colorGrading.colorGradingMap,a.enableToneMapping=a.enableHDR||a.enableColorGrading,a.enableToneMapping&&++a.remainingPasses},t.windowResize=function(e,t,a){a.enableColorGrading&&(_(!!a.settings.colorGrading.material),a.settings.colorGrading.material.setProperty("colorGradingMap",a.settings.colorGrading.colorGradingMap))},t.setup=function(e,t,a,i,n,o){if(!a.enableToneMapping)return o;if(--a.remainingPasses,_(a.remainingPasses>=0),0===a.remainingPasses)return this._addCopyAndTonemapPass(e,t,a,a.nativeWidth,a.nativeHeight,n.colorName,a.colorName);var r=a.renderWindowId,s=a.enableShadingScale?"ScaledLdrColor":"LdrColor",l=Ne(n.colorName,s,r),d=n.colorName;return n.colorName=l,this._addCopyAndTonemapPass(e,t,a,a.width,a.height,d,l)},t._addCopyAndTonemapPass=function(e,t,a,i,n,o,r){var s,l=a.settings;if(a.enableColorGrading){_(!!l.colorGrading.material),_(!!l.colorGrading.colorGradingMap);var d=l.colorGrading.colorGradingMap;this._colorGradingTexSize.x=d.width,this._colorGradingTexSize.y=d.height;var h=d.width===d.height;(s=h?e.addRenderPass(i,n,"cc-color-grading-8x8"):e.addRenderPass(i,n,"cc-color-grading-nx1")).addRenderTarget(r,_e.CLEAR,we.STORE,Oe),s.addTexture(o,"sceneColorMap"),s.setVec4("g_platform",t.platform),s.setVec2("lutTextureSize",this._colorGradingTexSize),s.setFloat("contribute",l.colorGrading.contribute),s.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(l.colorGrading.material,h?1:0)}else(s=e.addRenderPass(i,n,"cc-tone-mapping")).addRenderTarget(r,_e.CLEAR,we.STORE,Oe),s.addTexture(o,"inputTexture"),s.setVec4("g_platform",t.platform),l.toneMapping.material?s.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(l.toneMapping.material,0):(_(!!a.copyAndTonemapMaterial),s.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(a.copyAndTonemapMaterial,0));return s},e}(),ze=function(){function e(){this._fxaaParams=new R(0,0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 400},t.configCamera=function(e,t,a){a.enableFXAA=a.settings.fxaa.enabled&&!!a.settings.fxaa.material,a.enableFXAA&&++a.remainingPasses},t.setup=function(e,t,a,i,n,o){if(!a.enableFXAA)return o;--a.remainingPasses,_(a.remainingPasses>=0);var r=a.renderWindowId,s=a.enableShadingScale?"ScaledLdrColor":"LdrColor",l=Ne(n.colorName,s,r);if(_(!!a.settings.fxaa.material),0===a.remainingPasses)return a.enableShadingScale?(this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,n.colorName,l),Fe(e,t,a,l)):(_(a.width===a.nativeWidth),_(a.height===a.nativeHeight),this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,n.colorName,a.colorName));var d=n.colorName;return n.colorName=l,this._addFxaaPass(e,t,a.settings.fxaa.material,a.width,a.height,d,l)},t._addFxaaPass=function(e,t,a,i,n,o,r){this._fxaaParams.x=i,this._fxaaParams.y=n,this._fxaaParams.z=1/i,this._fxaaParams.w=1/n;var s=e.addRenderPass(i,n,"cc-fxaa");return s.addRenderTarget(r,_e.CLEAR,we.STORE,Oe),s.addTexture(o,"sceneColorMap"),s.setVec4("g_platform",t.platform),s.setVec4("texSize",this._fxaaParams),s.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(a,0),s},e}(),Ie=function(){function e(){this._fsrParams=new R(0,0,0,0),this._fsrTexSize=new R(0,0,0,0)}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 500},t.configCamera=function(e,t,a){a.enableFSR=a.settings.fsr.enabled&&!!a.settings.fsr.material&&a.enableShadingScale&&a.shadingScale<1,a.enableFSR&&++a.remainingPasses},t.setup=function(e,t,a,i,n,o){if(!a.enableFSR)return o;--a.remainingPasses;var r=n.colorName,s=0===a.remainingPasses?a.colorName:Ne(n.colorName,"UiColor",a.renderWindowId);return n.colorName=s,_(!!a.settings.fsr.material),this._addFsrPass(e,t,a,a.settings,a.settings.fsr.material,a.renderWindowId,a.width,a.height,r,a.nativeWidth,a.nativeHeight,s)},t._addFsrPass=function(e,t,a,i,n,o,r,s,l,d,h,p){this._fsrTexSize.x=r,this._fsrTexSize.y=s,this._fsrTexSize.z=d,this._fsrTexSize.w=h,this._fsrParams.x=C(1-i.fsr.sharpness,.02,.98);var c=Ne(p,"UiColor",o),g=e.addRenderPass(d,h,"cc-fsr-easu");g.addRenderTarget(c,_e.CLEAR,we.STORE,Oe),g.addTexture(l,"outputResultMap"),g.setVec4("g_platform",t.platform),g.setVec4("fsrTexSize",this._fsrTexSize),g.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(n,0);var u=e.addRenderPass(d,h,"cc-fsr-rcas");return u.addRenderTarget(p,_e.CLEAR,we.STORE,Oe),u.addTexture(c,"outputResultMap"),u.setVec4("g_platform",t.platform),u.setVec4("fsrTexSize",this._fsrTexSize),u.setVec4("fsrParams",this._fsrParams),u.addQueue(m.QueueHint.OPAQUE).addFullscreenQuad(n,1),u},e}(),We=function(){function e(){}var t=e.prototype;return t.getConfigOrder=function(){return 0},t.getRenderOrder=function(){return 1e3},t.setup=function(e,t,a,i,n,o){_(!!o);var r=m.SceneFlags.UI;return a.enableProfiler&&(r|=m.SceneFlags.PROFILER,o.showStatistics=!0),o.addQueue(m.QueueHint.BLEND,"default","default").addScene(i,r),o},e}();if(m){var ke=m.QueueHint,Ue=m.SceneFlags,Ve=function(){function e(){this._pipelineEvent=r.director.root.pipelineEvent,this._forwardPass=new Qe,this._bloomPass=new Be,this._toneMappingPass=new He,this._fxaaPass=new ze,this._fsrPass=new Ie,this._uiPass=new We,this._clearColor=new fe(0,0,0,1),this._viewport=new Me,this._configs=new Ae,this._cameraConfigs=new Le,this._copyAndTonemapMaterial=new g,this._initialized=!1,this._passBuilders=[]}var t=e.prototype;return t._setupPipelinePreview=function(e,t){if(e.cameraUsage===ye.SCENE_VIEW||e.cameraUsage===ye.PREVIEW){var a=m.getEditorPipelineSettings();t.settings=a||De}else e.pipelineSettings?t.settings=e.pipelineSettings:t.settings=De},t._preparePipelinePasses=function(e){var t=this._passBuilders;t.length=0;var a=e.settings;if(a._passes){for(var i,n=o(a._passes);!(i=n()).done;){var r=i.value;t.push(r)}_(t.length===a._passes.length)}t.push(this._forwardPass),a.bloom.enabled&&t.push(this._bloomPass),t.push(this._toneMappingPass),a.fxaa.enabled&&t.push(this._fxaaPass),a.fsr.enabled&&t.push(this._fsrPass),t.push(this._uiPass)},t._setupBuiltinCameraConfigs=function(e,t,a){var i=e.window,n=e.cameraUsage===ye.GAME&&!!i.swapchain;a.isMainGameWindow=n,a.renderWindowId=i.renderWindowId,a.colorName=i.colorName,a.depthStencilName=i.depthStencilName,a.enableFullPipeline=0!=(e.visibility&w.Enum.DEFAULT),a.enableProfiler=false,a.remainingPasses=0,a.shadingScale=a.settings.shadingScale,a.enableShadingScale=a.settings.enableShadingScale&&1!==a.shadingScale,a.nativeWidth=Math.max(Math.floor(i.width),1),a.nativeHeight=Math.max(Math.floor(i.height),1),a.width=a.enableShadingScale?Math.max(Math.floor(a.nativeWidth*a.shadingScale),1):a.nativeWidth,a.height=a.enableShadingScale?Math.max(Math.floor(a.nativeHeight*a.shadingScale),1):a.nativeHeight,a.enableHDR=a.enableFullPipeline&&t.useFloatOutput,a.radianceFormat=a.enableHDR?s.Format.RGBA16F:s.Format.RGBA8,a.copyAndTonemapMaterial=this._copyAndTonemapMaterial,a.enableStoreSceneDepth=!1},t._setupCameraConfigs=function(e,t,a){this._setupPipelinePreview(e,a),this._preparePipelinePasses(a),this._passBuilders.sort((function(e,t){return e.getConfigOrder()-t.getConfigOrder()})),this._setupBuiltinCameraConfigs(e,t,a);for(var i,n=o(this._passBuilders);!(i=n()).done;){var r=i.value;r.configCamera&&r.configCamera(e,t,a)}},t.windowResize=function(e,t,a,i,n){xe(e,this._configs),this._setupCameraConfigs(a,this._configs,this._cameraConfigs);var r=t.renderWindowId;e.addRenderWindow(this._cameraConfigs.colorName,Se.RGBA8,i,n,t,this._cameraConfigs.depthStencilName);var s=this._cameraConfigs.width,l=this._cameraConfigs.height;this._cameraConfigs.enableShadingScale?(e.addDepthStencil("ScaledSceneDepth_"+r,Se.DEPTH_STENCIL,s,l),e.addRenderTarget("ScaledRadiance0_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("ScaledRadiance1_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("ScaledLdrColor0_"+r,Se.RGBA8,s,l),e.addRenderTarget("ScaledLdrColor1_"+r,Se.RGBA8,s,l)):(e.addDepthStencil("SceneDepth_"+r,Se.DEPTH_STENCIL,s,l),e.addRenderTarget("Radiance0_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("Radiance1_"+r,this._cameraConfigs.radianceFormat,s,l),e.addRenderTarget("LdrColor0_"+r,Se.RGBA8,s,l),e.addRenderTarget("LdrColor1_"+r,Se.RGBA8,s,l)),e.addRenderTarget("UiColor0_"+r,Se.RGBA8,i,n),e.addRenderTarget("UiColor1_"+r,Se.RGBA8,i,n);for(var d,h=o(this._passBuilders);!(d=h()).done;){var p=d.value;p.windowResize&&p.windowResize(e,this._configs,this._cameraConfigs,t,a,i,n)}},t.setup=function(e,t){if(!this._initMaterials(t))for(var a,i=o(e);!(a=i()).done;){var n=a.value;n.scene&&n.window&&(this._setupCameraConfigs(n,this._configs,this._cameraConfigs),this._pipelineEvent.emit(P.RENDER_CAMERA_BEGIN,n),this._cameraConfigs.enableFullPipeline?this._buildForwardPipeline(t,n,n.scene,this._passBuilders):this._buildSimplePipeline(t,n),this._pipelineEvent.emit(P.RENDER_CAMERA_END,n))}},t._buildSimplePipeline=function(e,t){var a=Math.max(Math.floor(t.window.width),1),i=Math.max(Math.floor(t.window.height),1),n=this._cameraConfigs.colorName,o=this._cameraConfigs.depthStencilName,r=t.viewport;this._viewport.left=Math.round(r.x*a),this._viewport.top=Math.round(r.y*i),this._viewport.width=Math.max(Math.round(r.width*a),1),this._viewport.height=Math.max(Math.round(r.height*i),1);var s=t.clearColor;this._clearColor.x=s.x,this._clearColor.y=s.y,this._clearColor.z=s.z,this._clearColor.w=s.w;var l=e.addRenderPass(a,i,"default");Ce(t)?l.addRenderTarget(n,_e.CLEAR,we.STORE,this._clearColor):l.addRenderTarget(n,_e.LOAD,we.STORE),t.clearFlag&me.DEPTH_STENCIL?l.addDepthStencil(o,_e.CLEAR,we.DISCARD,t.clearDepth,t.clearStencil,t.clearFlag&me.DEPTH_STENCIL):l.addDepthStencil(o,_e.LOAD,we.DISCARD),l.setViewport(this._viewport),l.addQueue(ke.OPAQUE).addScene(t,Ue.OPAQUE);var d=Ue.BLEND|Ue.UI;this._cameraConfigs.enableProfiler&&(d|=Ue.PROFILER,l.showStatistics=!0),l.addQueue(ke.BLEND).addScene(t,d)},t._buildForwardPipeline=function(e,t,a,i){!function(e){e.sort((function(e,t){return e.getRenderOrder()-t.getRenderOrder()}))}(i);for(var n,r={colorName:"",depthStencilName:""},s=void 0,l=o(i);!(n=l()).done;){var d=n.value;d.setup&&(s=d.setup(e,this._configs,this._cameraConfigs,t,r,s))}_(0===this._cameraConfigs.remainingPasses)},t._initMaterials=function(e){return this._initialized?0:(xe(e,this._configs),this._copyAndTonemapMaterial._uuid="builtin-pipeline-tone-mapping-material",this._copyAndTonemapMaterial.initialize({effectName:"pipeline/post-process/tone-mapping"}),this._copyAndTonemapMaterial.effectAsset&&(this._initialized=!0),this._initialized?0:1)},e}();m.setCustomPipeline("Builtin",new Ve)}r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/internal', 'chunks:///internal.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6L0FwcGxpY2F0aW9ucy9Db2Nvcy9DcmVhdG9yLzMuOC41L0NvY29zQ3JlYXRvci5hcHAvQ29udGVudHMvUmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2ZpbGU6L0FwcGxpY2F0aW9ucy9Db2Nvcy9DcmVhdG9yLzMuOC41L0NvY29zQ3JlYXRvci5hcHAvQ29udGVudHMvUmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMudHMiLCJmaWxlOi9BcHBsaWNhdGlvbnMvQ29jb3MvQ3JlYXRvci8zLjguNS9Db2Nvc0NyZWF0b3IuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9maWxlOi9BcHBsaWNhdGlvbnMvQ29jb3MvQ3JlYXRvci8zLjguNS9Db2Nvc0NyZWF0b3IuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9idWlsdGluLXBpcGVsaW5lLXNldHRpbmdzLnRzIiwiZmlsZTovQXBwbGljYXRpb25zL0NvY29zL0NyZWF0b3IvMy44LjUvQ29jb3NDcmVhdG9yLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvZmlsZTovQXBwbGljYXRpb25zL0NvY29zL0NyZWF0b3IvMy44LjUvQ29jb3NDcmVhdG9yLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvYnVpbHRpbi1waXBlbGluZS50cyIsInZpcnR1YWw6L2NjL3ZpcnR1YWw6L2NjL2VudiJdLCJuYW1lcyI6WyJTYW1wbGVDb3VudCIsImdmeCIsIm1ha2VNU0FBIiwiZW5hYmxlZCIsInNhbXBsZUNvdW50IiwiWDQiLCJtYWtlUGlwZWxpbmVTZXR0aW5ncyIsIm1zYWEiLCJlbmFibGVTaGFkaW5nU2NhbGUiLCJzaGFkaW5nU2NhbGUiLCJibG9vbSIsIm1hdGVyaWFsIiwiZW5hYmxlQWxwaGFNYXNrIiwiaXRlcmF0aW9ucyIsInRocmVzaG9sZCIsImludGVuc2l0eSIsInRvbmVNYXBwaW5nIiwiY29sb3JHcmFkaW5nIiwiY29udHJpYnV0ZSIsImNvbG9yR3JhZGluZ01hcCIsImZzciIsInNoYXJwbmVzcyIsImZ4YWEiLCJmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJmaWxsUmVxdWlyZWRNU0FBIiwiZmlsbFJlcXVpcmVkQmxvb20iLCJmaWxsUmVxdWlyZWRUb25lTWFwcGluZyIsImZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyIsImZpbGxSZXF1aXJlZEZTUiIsImZpbGxSZXF1aXJlZEZYQUEiLCJfUkYiLCJwb3AiLCJjY2NsYXNzIiwiX2RlY29yYXRvciIsImRpc2FsbG93TXVsdGlwbGUiLCJleGVjdXRlSW5FZGl0TW9kZSIsIm1lbnUiLCJwcm9wZXJ0eSIsInJlcXVpcmVDb21wb25lbnQiLCJ0eXBlIiwiX2RlYyIsIl9kZWMyIiwiX2RlYzMiLCJDYW1lcmEiLCJfZGVjNCIsIkNDQm9vbGVhbiIsIl9kZWM1IiwiZGlzcGxheU5hbWUiLCJfZGVjNiIsImdyb3VwIiwiaWQiLCJuYW1lIiwiX2RlYzciLCJzdHlsZSIsIkNDSW50ZWdlciIsInJhbmdlIiwiX2RlYzgiLCJfZGVjOSIsInRvb2x0aXAiLCJDQ0Zsb2F0Iiwic2xpZGUiLCJfZGVjMTAiLCJfZGVjMTEiLCJNYXRlcmlhbCIsIl9kZWMxMiIsIl9kZWMxMyIsIl9kZWMxNCIsIm1pbiIsIl9kZWMxNSIsIl9kZWMxNiIsIl9kZWMxNyIsIl9kZWMxOCIsIlRleHR1cmUyRCIsIl9kZWMxOSIsIl9kZWMyMCIsIl9kZWMyMSIsIl9kZWMyMiIsIl9kZWMyMyIsIl9kZWMyNCIsIl9jbGFzcyIsIl9kZXNjcmlwdG9yIiwiX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciIsIl9jbGFzczIiLCJfQ29tcG9uZW50IiwiQnVpbHRpblBpcGVsaW5lU2V0dGluZ3MiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY2FsbCIsImFwcGx5IiwiY29uY2F0IiwiX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2Rlc2NyaXB0b3IyIiwiX2luaGVyaXRzTG9vc2UiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJnZXRQaXBlbGluZVNldHRpbmdzIiwidGhpcyIsIl9zZXR0aW5ncyIsIm9uRW5hYmxlIiwiZ2V0Q29tcG9uZW50IiwiY2FtZXJhIiwicGlwZWxpbmVTZXR0aW5ncyIsIm9uRGlzYWJsZSIsIl90cnlFbmFibGVFZGl0b3JQcmV2aWV3IiwicmVuZGVyaW5nIiwiX2VkaXRvclByZXZpZXciLCJzZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzIiwiX2Rpc2FibGVFZGl0b3JQcmV2aWV3IiwiZ2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncyIsIl9jcmVhdGVDbGFzcyIsImtleSIsImdldCIsInNldCIsInYiLCJNYXRoIiwicG93IiwiY2VpbCIsImxvZzIiLCJtYXgiLCJ2YWwiLCJDb21wb25lbnQiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJpbml0aWFsaXplciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkFBQkIiLCJnZW9tZXRyeSIsIlNwaGVyZSIsImludGVyc2VjdCIsIkNsZWFyRmxhZ0JpdCIsIkNvbG9yIiwiRm9ybWF0IiwiRm9ybWF0RmVhdHVyZUJpdCIsIkxvYWRPcCIsIlN0b3JlT3AiLCJUZXh0dXJlVHlwZSIsIlZpZXdwb3J0Iiwic2NlbmUiLCJyZW5kZXJlciIsIkNhbWVyYVVzYWdlIiwiQ1NNTGV2ZWwiLCJMaWdodFR5cGUiLCJmb3J3YXJkTmVlZENsZWFyQ29sb3IiLCJjbGVhckZsYWciLCJDT0xPUiIsIlNURU5DSUwiLCJnZXRDc21NYWluTGlnaHRWaWV3cG9ydCIsImxpZ2h0IiwidyIsImgiLCJsZXZlbCIsInZwIiwic2NyZWVuU3BhY2VTaWduWSIsInNoYWRvd0ZpeGVkQXJlYSIsImNzbUxldmVsIiwiTEVWRUxfMSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsInRydW5jIiwiaGVpZ2h0IiwiZmxvb3IiLCJQaXBlbGluZUNvbmZpZ3MiLCJpc1dlYiIsImlzV2ViR0wxIiwiaXNXZWJHUFUiLCJpc01vYmlsZSIsImlzSERSIiwidXNlRmxvYXRPdXRwdXQiLCJ0b25lTWFwcGluZ1R5cGUiLCJzaGFkb3dFbmFibGVkIiwic2hhZG93TWFwRm9ybWF0IiwiUjMyRiIsInNoYWRvd01hcFNpemUiLCJWZWMyIiwidXNlUGxhbmFyU2hhZG93Iiwic3VwcG9ydERlcHRoU2FtcGxlIiwibW9iaWxlTWF4U3BvdExpZ2h0U2hhZG93TWFwcyIsInBsYXRmb3JtIiwiVmVjNCIsInNldHVwUGlwZWxpbmVDb25maWdzIiwicHBsIiwiY29uZmlncyIsInNhbXBsZUZlYXR1cmUiLCJTQU1QTEVEX1RFWFRVUkUiLCJMSU5FQVJfRklMVEVSIiwiZGV2aWNlIiwic3lzIiwiaXNOYXRpdmUiLCJnZnhBUEkiLCJBUEkiLCJXRUJHTCIsIldFQkdQVSIsInBpcGVsaW5lU2NlbmVEYXRhIiwiZ2V0TWFjcm9Cb29sIiwicG9zdFNldHRpbmdzIiwic2hhZG93SW5mbyIsInNoYWRvd3MiLCJwaXBlbGluZSIsInN1cHBvcnRzUjMyRmxvYXRUZXh0dXJlIiwiUkdCQTgiLCJzaXplIiwiU2hhZG93VHlwZSIsIlBsYW5hciIsImNhcGFiaWxpdGllcyIsImdldEZvcm1hdEZlYXR1cmVzIiwiREVQVEhfU1RFTkNJTCIsIngiLCJjbGlwU3BhY2VTaWduWSIsImRlZmF1bHRTZXR0aW5ncyIsIkNhbWVyYUNvbmZpZ3MiLCJzZXR0aW5ncyIsImlzTWFpbkdhbWVXaW5kb3ciLCJyZW5kZXJXaW5kb3dJZCIsImNvbG9yTmFtZSIsImRlcHRoU3RlbmNpbE5hbWUiLCJlbmFibGVGdWxsUGlwZWxpbmUiLCJlbmFibGVQcm9maWxlciIsInJlbWFpbmluZ1Bhc3NlcyIsIm5hdGl2ZVdpZHRoIiwibmF0aXZlSGVpZ2h0IiwiZW5hYmxlSERSIiwicmFkaWFuY2VGb3JtYXQiLCJjb3B5QW5kVG9uZW1hcE1hdGVyaWFsIiwiZW5hYmxlU3RvcmVTY2VuZURlcHRoIiwic0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrIiwiYWRkQ29weVRvU2NyZWVuUGFzcyIsInBwbENvbmZpZ3MiLCJjYW1lcmFDb25maWdzIiwiaW5wdXQiLCJhc3NlcnQiLCJwYXNzIiwiYWRkUmVuZGVyUGFzcyIsImFkZFJlbmRlclRhcmdldCIsIkNMRUFSIiwiU1RPUkUiLCJhZGRUZXh0dXJlIiwic2V0VmVjNCIsImFkZFF1ZXVlIiwiUXVldWVIaW50IiwiT1BBUVVFIiwiYWRkRnVsbHNjcmVlblF1YWQiLCJnZXRQaW5nUG9uZ1JlbmRlclRhcmdldCIsInByZXZOYW1lIiwicHJlZml4Iiwic3RhcnRzV2l0aCIsIk51bWJlciIsImNoYXJBdCIsIkZvcndhcmRMaWdodGluZyIsImxpZ2h0cyIsInNoYWRvd0VuYWJsZWRTcG90TGlnaHRzIiwiX3NwaGVyZSIsImNyZWF0ZSIsIl9ib3VuZGluZ0JveCIsIl9yYW5nZWREaXJMaWdodEJvdW5kaW5nQm94IiwiY3VsbExpZ2h0cyIsImZydXN0dW0iLCJjYW1lcmFQb3MiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UiLCJzcG90TGlnaHRzIiwiZG9uZSIsImJha2VkIiwicG9zaXRpb24iLCJ5IiwieiIsInNwaGVyZUZydXN0dW0iLCJwdXNoIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInNwaGVyZUxpZ2h0cyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJwb2ludExpZ2h0cyIsIl9zdGVwNCIsIl9pdGVyYXRvcjQiLCJyYW5nZWREaXJMaWdodHMiLCJ0cmFuc2Zvcm0iLCJub2RlIiwiZ2V0V29ybGRNYXRyaXgiLCJhYWJiRnJ1c3R1bSIsInNvcnQiLCJsaHMiLCJyaHMiLCJWZWMzIiwic3F1YXJlZERpc3RhbmNlIiwiX2FkZExpZ2h0UXVldWVzIiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsInF1ZXVlIiwiQkxFTkQiLCJTUEhFUkUiLCJTUE9UIiwiUE9JTlQiLCJSQU5HRURfRElSRUNUSU9OQUwiLCJhZGRTY2VuZSIsIlNjZW5lRmxhZ3MiLCJhZGRTcG90bGlnaHRTaGFkb3dQYXNzZXMiLCJtYXhOdW1TaGFkb3dNYXBzIiwiX3N0ZXA2IiwiaSIsIl9pdGVyYXRvcjYiLCJzaGFkb3dQYXNzIiwiYWRkRGVwdGhTdGVuY2lsIiwiRElTQ0FSRCIsIk5PTkUiLCJNQVNLIiwiU0hBRE9XX0NBU1RFUiIsInVzZUxpZ2h0RnJ1c3R1bSIsImFkZExpZ2h0UXVldWVzIiwiX3N0ZXA3IiwiX2l0ZXJhdG9yNyIsImFkZExpZ2h0UGFzc2VzIiwiZGVwdGhTdGVuY2lsU3RvcmVPcCIsInZpZXdwb3J0IiwiX3N0ZXA4IiwiY291bnQiLCJfaXRlcmF0b3I4Iiwic3RvcmVPcCIsInNldFZpZXdwb3J0IiwiTE9BRCIsImlzTXVsdGlwbGVMaWdodFBhc3Nlc05lZWRlZCIsIkJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIiLCJmb3J3YXJkTGlnaHRpbmciLCJfdmlld3BvcnQiLCJfY2xlYXJDb2xvciIsIl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yIiwiX3Byb3RvMiIsImdldENvbmZpZ09yZGVyIiwiQ29uZmlnT3JkZXIiLCJnZXRSZW5kZXJPcmRlciIsIlJlbmRlck9yZGVyIiwiY29uZmlnQ2FtZXJhIiwicGlwZWxpbmVDb25maWdzIiwiZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwIiwibWFpbkxpZ2h0IiwiZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwIiwiZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlIiwiY2FtZXJhVXNhZ2UiLCJTQ0VORV9WSUVXIiwiZW5hYmxlTVNBQSIsImVuYWJsZVNpbmdsZUZvcndhcmRQYXNzIiwid2luZG93UmVzaXplIiwid2luZG93IiwiUmVzb3VyY2VGbGFncyIsIlJlc291cmNlUmVzaWRlbmN5IiwiVEVYMkQiLCJDT0xPUl9BVFRBQ0hNRU5UIiwiTUVNT1JZTEVTUyIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInNldHVwIiwiY29udGV4dCIsIl9hZGRDYXNjYWRlZFNoYWRvd01hcFBhc3MiLCJfdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzIiwiX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyIsInNoYWRvd1NpemUiLCJjc21TdXBwb3J0ZWQiLCJyZWZsZWN0aW9uUHJvYmVNYW5hZ2VyIiwiY2NsZWdhY3kiLCJpbnRlcm5hbCIsIl9zdGVwOSIsInByb2JlcyIsImdldFByb2JlcyIsInByb2JlSUQiLCJfaXRlcmF0b3I5IiwicHJvYmUiLCJuZWVkUmVuZGVyIiwiYXJlYSIsInJlbmRlckFyZWEiLCJwcm9iZVR5cGUiLCJQcm9iZVR5cGUiLCJQTEFOQVIiLCJyZWFsdGltZVBsYW5hclRleHR1cmUiLCJhZGRSZW5kZXJXaW5kb3ciLCJwcm9iZVBhc3MiLCJfYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzIiwiY29sb3JTdG9yZU9wIiwiY2xlYXJDb2xvciIsInBhY2tSR0JFIiwiY2xlYXJEZXB0aCIsImNsZWFyU3RlbmNpbCIsIlJFRkxFQ1RJT05fUFJPQkUiLCJkaXNhYmxlTVNBQSIsInJvdW5kIiwiX2FkZEZvcndhcmRTaW5nbGVSYWRpYW5jZVBhc3MiLCJfYWRkRm9yd2FyZE11bHRpcGxlUmFkaWFuY2VQYXNzZXMiLCJfYWRkUGxhbmFyU2hhZG93UXVldWUiLCJzY2VuZUZsYWdzIiwiZ2VvbWV0cnlSZW5kZXJlciIsIkdFT01FVFJZIiwibXNhYVJhZGlhbmNlTmFtZSIsIm1zYWFEZXB0aFN0ZW5jaWxOYW1lIiwibXNQYXNzIiwiYWRkTXVsdGlzYW1wbGVSZW5kZXJQYXNzIiwiX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MiLCJyZXNvbHZlUmVuZGVyVGFyZ2V0IiwiZmlyc3RTdG9yZU9wIiwiUExBTkFSX1NIQURPVyIsIkJ1aWx0aW5CbG9vbVBhc3NCdWlsZGVyIiwiX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrIiwiX2Jsb29tUGFyYW1zIiwiX2Jsb29tVGV4U2l6ZSIsIl9ibG9vbVdpZHRocyIsIl9ibG9vbUhlaWdodHMiLCJfYmxvb21UZXhOYW1lcyIsIl9wcm90bzMiLCJlbmFibGVCbG9vbSIsImJsb29tV2lkdGgiLCJibG9vbUhlaWdodCIsInByZXZSZW5kZXJQYXNzIiwiX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyIsImJsb29tTWF0ZXJpYWwiLCJyYWRpYW5jZU5hbWUiLCJzaXplQ291bnQiLCJwcmVmaWx0ZXJQYXNzIiwiZG93blBhc3MiLCJ1cFBhc3MiLCJjb21iaW5lUGFzcyIsIkJ1aWx0aW5Ub25lTWFwcGluZ1Bhc3NCdWlsZGVyIiwiX2NvbG9yR3JhZGluZ1RleFNpemUiLCJfcHJvdG80IiwiZW5hYmxlQ29sb3JHcmFkaW5nIiwiZW5hYmxlVG9uZU1hcHBpbmciLCJzZXRQcm9wZXJ0eSIsIl9hZGRDb3B5QW5kVG9uZW1hcFBhc3MiLCJsZHJDb2xvclByZWZpeCIsImxkckNvbG9yTmFtZSIsImx1dFRleCIsImlzU3F1YXJlTWFwIiwic2V0VmVjMiIsInNldEZsb2F0IiwiQnVpbHRpbkZYQUFQYXNzQnVpbGRlciIsIl9meGFhUGFyYW1zIiwiX3Byb3RvNSIsImVuYWJsZUZYQUEiLCJfYWRkRnhhYVBhc3MiLCJpbnB1dENvbG9yTmFtZSIsImZ4YWFNYXRlcmlhbCIsIkJ1aWx0aW5Gc3JQYXNzQnVpbGRlciIsIl9mc3JQYXJhbXMiLCJfZnNyVGV4U2l6ZSIsIl9wcm90bzYiLCJlbmFibGVGU1IiLCJvdXRwdXRDb2xvck5hbWUiLCJfYWRkRnNyUGFzcyIsImZzck1hdGVyaWFsIiwiY2xhbXAiLCJmc3JDb2xvck5hbWUiLCJlYXN1UGFzcyIsInJjYXNQYXNzIiwiQnVpbHRpblVpUGFzc0J1aWxkZXIiLCJfcHJvdG83IiwiZmxhZ3MiLCJVSSIsIlBST0ZJTEVSIiwic2hvd1N0YXRpc3RpY3MiLCJCdWlsdGluUGlwZWxpbmVCdWlsZGVyIiwiX3BpcGVsaW5lRXZlbnQiLCJkaXJlY3RvciIsInJvb3QiLCJwaXBlbGluZUV2ZW50IiwiX2ZvcndhcmRQYXNzIiwiX2Jsb29tUGFzcyIsIl90b25lTWFwcGluZ1Bhc3MiLCJfZnhhYVBhc3MiLCJfZnNyUGFzcyIsIl91aVBhc3MiLCJfY29uZmlncyIsIl9jYW1lcmFDb25maWdzIiwiX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJfaW5pdGlhbGl6ZWQiLCJfcGFzc0J1aWxkZXJzIiwiX3Byb3RvOCIsIl9zZXR1cFBpcGVsaW5lUHJldmlldyIsIlBSRVZJRVciLCJlZGl0b3JTZXR0aW5ncyIsIl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMiLCJwYXNzQnVpbGRlcnMiLCJfcGFzc2VzIiwiX3N0ZXAxMCIsIl9pdGVyYXRvcjEwIiwiX3NldHVwQnVpbHRpbkNhbWVyYUNvbmZpZ3MiLCJHQU1FIiwic3dhcGNoYWluIiwidmlzaWJpbGl0eSIsIkxheWVycyIsIkVudW0iLCJERUZBVUxUIiwiUkdCQTE2RiIsIl9zZXR1cENhbWVyYUNvbmZpZ3MiLCJhIiwiYiIsIl9zdGVwMTEiLCJfaXRlcmF0b3IxMSIsImJ1aWxkZXIiLCJfc3RlcDEyIiwiX2l0ZXJhdG9yMTIiLCJjYW1lcmFzIiwiX2luaXRNYXRlcmlhbHMiLCJfc3RlcDEzIiwiX2l0ZXJhdG9yMTMiLCJlbWl0IiwiUGlwZWxpbmVFdmVudFR5cGUiLCJSRU5ERVJfQ0FNRVJBX0JFR0lOIiwiX2J1aWxkRm9yd2FyZFBpcGVsaW5lIiwiX2J1aWxkU2ltcGxlUGlwZWxpbmUiLCJSRU5ERVJfQ0FNRVJBX0VORCIsInNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5UmVuZGVyT3JkZXIiLCJfc3RlcDE0IiwibGFzdFBhc3MiLCJfaXRlcmF0b3IxNCIsIl91dWlkIiwiaW5pdGlhbGl6ZSIsImVmZmVjdE5hbWUiLCJlZmZlY3RBc3NldCIsInNldEN1c3RvbVBpcGVsaW5lIl0sIm1hcHBpbmdzIjoiOGxCQWdDQSw4REFBUUEsR0FBZ0JDLEVBQWhCRCxZQVFELFNBQVNFLEtBQ1osTUFBTyxDQUNIQyxTQUFTLEVBQ1RDLFlBQWFKLEdBQVlLLElBK00xQixTQUFTQyxLQUNaLE1BQU8sQ0FDSEMsS0FBTUwsS0FDTk0sb0JBQW9CLEVBQ3BCQyxhQUFjLEdBQ2RDLE1BbEpHLENBQ0hQLFNBQVMsRUFDVFEsU0FBVSxLQUNWQyxpQkFBaUIsRUFDakJDLFdBQVksRUFDWkMsVUFBVyxHQUNYQyxVQUFXLEtBNklYQyxZQTdCRyxDQUNITCxTQUFVLE1BNkJWTSxhQTVHRyxDQUNIZCxTQUFTLEVBQ1RRLFNBQVUsS0FDVk8sV0FBWSxFQUNaQyxnQkFBaUIsTUF5R2pCQyxJQTlFRyxDQUNIakIsU0FBUyxFQUNUUSxTQUFVLEtBQ1ZVLFVBQVcsSUE0RVhDLEtBckRHLENBQ0huQixTQUFTLEVBQ1RRLFNBQVUsT0F1RFgsU0FBU1ksR0FBNkJDLEdBQ3BDQSxFQUFNakIsS0F6TlIsU0FBMEJpQixRQUNQQyxJQUFsQkQsRUFBTXJCLFVBQ05xQixFQUFNckIsU0FBVSxRQUVNc0IsSUFBdEJELEVBQU1wQixjQUNOb0IsRUFBTXBCLFlBQWNKLEdBQVlLLElBdU5oQ3FCLENBQWlCRixFQUFNakIsTUFGdEJpQixFQUFNakIsS0FBZ0JMLFVBSU11QixJQUE3QkQsRUFBTWhCLHFCQUNOZ0IsRUFBTWhCLG9CQUFxQixRQUVKaUIsSUFBdkJELEVBQU1mLGVBQ05lLEVBQU1mLGFBQWUsSUFFcEJlLEVBQU1kLE1BNUpSLFNBQTJCYyxRQUNSQyxJQUFsQkQsRUFBTXJCLFVBQ05xQixFQUFNckIsU0FBVSxRQUVHc0IsSUFBbkJELEVBQU1iLFdBQ05hLEVBQU1iLFNBQVcsV0FFU2MsSUFBMUJELEVBQU1aLGtCQUNOWSxFQUFNWixpQkFBa0IsUUFFSGEsSUFBckJE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bkYsRUFDQXVDLEVBQ0FxVixJQXptRFosU0FBK0NBLEdBQzNDQSxFQUFhcE0sTUFBSyxTQUFDaU4sRUFBR0MsR0FDbEIsT0FBT0QsRUFBRWhLLGlCQUFtQmlLLEVBQUVqSyxvQkF5bUQxQmlMLENBQXNDOUIsR0FTdEMsSUFQQSxJQU9rQytCLEVBUDVCN0osRUFBMkIsQ0FDN0IxSSxVQUFXLEdBQ1hDLGlCQUFrQixJQUdsQnVTLE9BQXlEL2UsRUFFN0RnZixFQUFBM1AsRUFBc0IwTixLQUFZK0IsRUFBQUUsS0FBQXpQLE1BQUUsQ0FBQSxJQUF6QnlPLEVBQU9jLEVBQUEvZSxNQUNWaWUsRUFBUWhKLFFBQ1IrSixFQUFXZixFQUFRaEosTUFBTTFLLEVBQUt2RixLQUFLc1gsU0FBVXRYLEtBQUt1WCxlQUM5Q25YLEVBQVE4UCxFQUFTOEosSUFJN0J4UixFQUErQyxJQUF4Q3hJLEtBQUt1WCxlQUFlM1Asa0JBQzlCK1AsRUFFTzBCLGVBQVIsU0FBdUI5VCxHQUNuQixPQUFJdkYsS0FBS3lYLGFBQ0UsR0FHWG5TLEdBQXFCQyxFQUFLdkYsS0FBS3NYLFVBRy9CdFgsS0FBS3dYLHdCQUF3QjBDLCtDQUM3QmxhLEtBQUt3WCx3QkFBd0IyQyxXQUFXLENBQUVDLFdBQVksdUNBRWxEcGEsS0FBS3dYLHdCQUF3QjZDLGNBQzdCcmEsS0FBS3lYLGNBQWUsR0FHakJ6WCxLQUFLeVgsYUFBZSxFQUFJLElBQ2xDZCxLQUdMblcsRUFBVThaLGtCQUFrQixVQUFXLElBQUkzRCxNQUU3Q25iLElBQUFDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gQ29weXJpZ2h0IChjKSAyMDIxLTIwMjQgWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXG5cbiBodHRwczovL3d3dy5jb2Nvcy5jb21cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xuIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXG4gb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuKi9cblxuLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09ICFETyBOT1QgQ0hBTkdFIFRIRSBGT0xMT1dJTkcgU0VDVElPTiBNQU5VQUxMWSEgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICogVGhlIGZvbGxvd2luZyBzZWN0aW9uIGlzIGF1dG8tZ2VuZXJhdGVkLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PSAhRE8gTk9UIENIQU5HRSBUSEUgRk9MTE9XSU5HIFNFQ1RJT04gTUFOVUFMTFkhID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuaW1wb3J0IHsgTWF0ZXJpYWwsIFRleHR1cmUyRCwgZ2Z4IH0gZnJvbSAnY2MnO1xuXG5jb25zdCB7IFNhbXBsZUNvdW50IH0gPSBnZng7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTVNBQSB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICBzYW1wbGVDb3VudDogZ2Z4LlNhbXBsZUNvdW50OyAvKiBTYW1wbGVDb3VudC5YNCAqL1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1TQUEoKTogTVNBQSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHNhbXBsZUNvdW50OiBTYW1wbGVDb3VudC5YNCxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkTVNBQSh2YWx1ZTogTVNBQSk6IHZvaWQge1xuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUuc2FtcGxlQ291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5zYW1wbGVDb3VudCA9IFNhbXBsZUNvdW50Llg0O1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIQkFPIHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIHJhZGl1c1NjYWxlOiBudW1iZXI7IC8qIDEgKi9cbiAgICBhbmdsZUJpYXNEZWdyZWU6IG51bWJlcjsgLyogMTAgKi9cbiAgICBibHVyU2hhcnBuZXNzOiBudW1iZXI7IC8qIDMgKi9cbiAgICBhb1NhdHVyYXRpb246IG51bWJlcjsgLyogMSAqL1xuICAgIG5lZWRCbHVyOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhCQU8oKTogSEJBTyB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHJhZGl1c1NjYWxlOiAxLFxuICAgICAgICBhbmdsZUJpYXNEZWdyZWU6IDEwLFxuICAgICAgICBibHVyU2hhcnBuZXNzOiAzLFxuICAgICAgICBhb1NhdHVyYXRpb246IDEsXG4gICAgICAgIG5lZWRCbHVyOiBmYWxzZSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkSEJBTyh2YWx1ZTogSEJBTyk6IHZvaWQge1xuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUucmFkaXVzU2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5yYWRpdXNTY2FsZSA9IDE7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5hbmdsZUJpYXNEZWdyZWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5hbmdsZUJpYXNEZWdyZWUgPSAxMDtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmJsdXJTaGFycG5lc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5ibHVyU2hhcnBuZXNzID0gMztcbiAgICB9XG4gICAgaWYgKHZhbHVlLmFvU2F0dXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmFvU2F0dXJhdGlvbiA9IDE7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5uZWVkQmx1ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLm5lZWRCbHVyID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJsb29tIHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XG4gICAgZW5hYmxlQWxwaGFNYXNrOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIGl0ZXJhdGlvbnM6IG51bWJlcjsgLyogMyAqL1xuICAgIHRocmVzaG9sZDogbnVtYmVyOyAvKiAwLjggKi9cbiAgICBpbnRlbnNpdHk6IG51bWJlcjsgLyogMi4zICovXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQmxvb20oKTogQmxvb20ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcbiAgICAgICAgZW5hYmxlQWxwaGFNYXNrOiBmYWxzZSxcbiAgICAgICAgaXRlcmF0aW9uczogMyxcbiAgICAgICAgdGhyZXNob2xkOiAwLjgsXG4gICAgICAgIGludGVuc2l0eTogMi4zLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRCbG9vbSh2YWx1ZTogQmxvb20pOiB2b2lkIHtcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUubWF0ZXJpYWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsdWUuZW5hYmxlQWxwaGFNYXNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuZW5hYmxlQWxwaGFNYXNrID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pdGVyYXRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuaXRlcmF0aW9ucyA9IDM7XG4gICAgfVxuICAgIGlmICh2YWx1ZS50aHJlc2hvbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS50aHJlc2hvbGQgPSAwLjg7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pbnRlbnNpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5pbnRlbnNpdHkgPSAyLjM7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yR3JhZGluZyB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xuICAgIGNvbnRyaWJ1dGU6IG51bWJlcjsgLyogMSAqL1xuICAgIC8qIHJlZmNvdW50ICovIGNvbG9yR3JhZGluZ01hcDogVGV4dHVyZTJEIHwgbnVsbDtcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VDb2xvckdyYWRpbmcoKTogQ29sb3JHcmFkaW5nIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXG4gICAgICAgIGNvbnRyaWJ1dGU6IDEsXG4gICAgICAgIGNvbG9yR3JhZGluZ01hcDogbnVsbCxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkQ29sb3JHcmFkaW5nKHZhbHVlOiBDb2xvckdyYWRpbmcpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUubWF0ZXJpYWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsdWUuY29udHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmNvbnRyaWJ1dGUgPSAxO1xuICAgIH1cbiAgICBpZiAodmFsdWUuY29sb3JHcmFkaW5nTWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuY29sb3JHcmFkaW5nTWFwID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRlNSIHtcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XG4gICAgc2hhcnBuZXNzOiBudW1iZXI7IC8qIDAuOCAqL1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZTUigpOiBGU1Ige1xuICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcbiAgICAgICAgc2hhcnBuZXNzOiAwLjgsXG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZEZTUih2YWx1ZTogRlNSKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZhbHVlLnNoYXJwbmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLnNoYXJwbmVzcyA9IDAuODtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRlhBQSB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZYQUEoKTogRlhBQSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGWEFBKHZhbHVlOiBGWEFBKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9uZU1hcHBpbmcge1xuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlVG9uZU1hcHBpbmcoKTogVG9uZU1hcHBpbmcge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRUb25lTWFwcGluZyh2YWx1ZTogVG9uZU1hcHBpbmcpOiB2b2lkIHtcbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lU2V0dGluZ3Mge1xuICAgIHJlYWRvbmx5IG1zYWE6IE1TQUE7XG4gICAgZW5hYmxlU2hhZGluZ1NjYWxlOiBib29sZWFuOyAvKiBmYWxzZSAqL1xuICAgIHNoYWRpbmdTY2FsZTogbnVtYmVyOyAvKiAwLjUgKi9cbiAgICByZWFkb25seSBibG9vbTogQmxvb207XG4gICAgcmVhZG9ubHkgdG9uZU1hcHBpbmc6IFRvbmVNYXBwaW5nO1xuICAgIHJlYWRvbmx5IGNvbG9yR3JhZGluZzogQ29sb3JHcmFkaW5nO1xuICAgIHJlYWRvbmx5IGZzcjogRlNSO1xuICAgIHJlYWRvbmx5IGZ4YWE6IEZYQUE7XG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGlwZWxpbmVTZXR0aW5ncygpOiBQaXBlbGluZVNldHRpbmdzIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtc2FhOiBtYWtlTVNBQSgpLFxuICAgICAgICBlbmFibGVTaGFkaW5nU2NhbGU6IGZhbHNlLFxuICAgICAgICBzaGFkaW5nU2NhbGU6IDAuNSxcbiAgICAgICAgYmxvb206IG1ha2VCbG9vbSgpLFxuICAgICAgICB0b25lTWFwcGluZzogbWFrZVRvbmVNYXBwaW5nKCksXG4gICAgICAgIGNvbG9yR3JhZGluZzogbWFrZUNvbG9yR3JhZGluZygpLFxuICAgICAgICBmc3I6IG1ha2VGU1IoKSxcbiAgICAgICAgZnhhYTogbWFrZUZYQUEoKSxcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkUGlwZWxpbmVTZXR0aW5ncyh2YWx1ZTogUGlwZWxpbmVTZXR0aW5ncyk6IHZvaWQge1xuICAgIGlmICghdmFsdWUubXNhYSkge1xuICAgICAgICAodmFsdWUubXNhYSBhcyBNU0FBKSA9IG1ha2VNU0FBKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFJlcXVpcmVkTVNBQSh2YWx1ZS5tc2FhKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmVuYWJsZVNoYWRpbmdTY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlLmVuYWJsZVNoYWRpbmdTY2FsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUuc2hhZGluZ1NjYWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUuc2hhZGluZ1NjYWxlID0gMC41O1xuICAgIH1cbiAgICBpZiAoIXZhbHVlLmJsb29tKSB7XG4gICAgICAgICh2YWx1ZS5ibG9vbSBhcyBCbG9vbSkgPSBtYWtlQmxvb20oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWxsUmVxdWlyZWRCbG9vbSh2YWx1ZS5ibG9vbSk7XG4gICAgfVxuICAgIGlmICghdmFsdWUudG9uZU1hcHBpbmcpIHtcbiAgICAgICAgKHZhbHVlLnRvbmVNYXBwaW5nIGFzIFRvbmVNYXBwaW5nKSA9IG1ha2VUb25lTWFwcGluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxSZXF1aXJlZFRvbmVNYXBwaW5nKHZhbHVlLnRvbmVNYXBwaW5nKTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZS5jb2xvckdyYWRpbmcpIHtcbiAgICAgICAgKHZhbHVlLmNvbG9yR3JhZGluZyBhcyBDb2xvckdyYWRpbmcpID0gbWFrZUNvbG9yR3JhZGluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyh2YWx1ZS5jb2xvckdyYWRpbmcpO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlLmZzcikge1xuICAgICAgICAodmFsdWUuZnNyIGFzIEZTUikgPSBtYWtlRlNSKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFJlcXVpcmVkRlNSKHZhbHVlLmZzcik7XG4gICAgfVxuICAgIGlmICghdmFsdWUuZnhhYSkge1xuICAgICAgICAodmFsdWUuZnhhYSBhcyBGWEFBKSA9IG1ha2VGWEFBKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmlsbFJlcXVpcmVkRlhBQSh2YWx1ZS5meGFhKTtcbiAgICB9XG59XG4iLCIvKlxuIENvcHlyaWdodCAoYykgMjAyMS0yMDI0IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxuXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xuXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvXG4gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXNcbiBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiBUSEUgU09GVFdBUkUuXG4qL1xuXG5pbXBvcnQge1xuICAgIF9kZWNvcmF0b3IsIENhbWVyYSwgQ0NCb29sZWFuLCBDQ0Zsb2F0LCBDQ0ludGVnZXIsIENvbXBvbmVudCxcbiAgICBNYXRlcmlhbCwgcmVuZGVyaW5nLCBUZXh0dXJlMkQsXG59IGZyb20gJ2NjJztcblxuaW1wb3J0IHsgRURJVE9SIH0gZnJvbSAnY2MvZW52JztcblxuaW1wb3J0IHtcbiAgICBmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzLCBtYWtlUGlwZWxpbmVTZXR0aW5ncywgUGlwZWxpbmVTZXR0aW5ncyxcbn0gZnJvbSAnLi9idWlsdGluLXBpcGVsaW5lLXR5cGVzJztcblxuY29uc3QgeyBjY2NsYXNzLCBkaXNhbGxvd011bHRpcGxlLCBleGVjdXRlSW5FZGl0TW9kZSwgbWVudSwgcHJvcGVydHksIHJlcXVpcmVDb21wb25lbnQsIHR5cGUgfSA9IF9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzKCdCdWlsdGluUGlwZWxpbmVTZXR0aW5ncycpXG5AbWVudSgnUmVuZGVyaW5nL0J1aWx0aW5QaXBlbGluZVNldHRpbmdzJylcbkByZXF1aXJlQ29tcG9uZW50KENhbWVyYSlcbkBkaXNhbGxvd011bHRpcGxlXG5AZXhlY3V0ZUluRWRpdE1vZGVcbmV4cG9ydCBjbGFzcyBCdWlsdGluUGlwZWxpbmVTZXR0aW5ncyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5XG4gICAgcHJpdmF0ZSByZWFkb25seSBfc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MgPSBtYWtlUGlwZWxpbmVTZXR0aW5ncygpO1xuXG4gICAgZ2V0UGlwZWxpbmVTZXR0aW5ncygpOiBQaXBlbGluZVNldHRpbmdzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cblxuICAgIC8vIEVuYWJsZS9EaXNhYmxlXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGZpbGxSZXF1aXJlZFBpcGVsaW5lU2V0dGluZ3ModGhpcy5fc2V0dGluZ3MpO1xuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gY2FtZXJhQ29tcG9uZW50LmNhbWVyYTtcbiAgICAgICAgY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MgPSB0aGlzLl9zZXR0aW5ncztcblxuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gY2FtZXJhQ29tcG9uZW50LmNhbWVyYTtcbiAgICAgICAgY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3MgPSBudWxsO1xuXG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFZGl0b3IgUHJldmlld1xuICAgIEBwcm9wZXJ0eShDQ0Jvb2xlYW4pXG4gICAgcHJvdGVjdGVkIF9lZGl0b3JQcmV2aWV3ID0gZmFsc2U7XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBkaXNwbGF5TmFtZTogJ0VkaXRvciBQcmV2aWV3IChFeHBlcmltZW50YWwpJyxcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxuICAgIH0pXG4gICAgZ2V0IGVkaXRvclByZXZpZXcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3JQcmV2aWV3O1xuICAgIH1cbiAgICBzZXQgZWRpdG9yUHJldmlldyh2OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvclByZXZpZXcgPSB2O1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIF90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk6IHZvaWQge1xuICAgICAgICBpZiAocmVuZGVyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZWRpdG9yUHJldmlldykge1xuICAgICAgICAgICAgcmVuZGVyaW5nLnNldEVkaXRvclBpcGVsaW5lU2V0dGluZ3ModGhpcy5fc2V0dGluZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgX2Rpc2FibGVFZGl0b3JQcmV2aWV3KCk6IHZvaWQge1xuICAgICAgICBpZiAocmVuZGVyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50ID0gcmVuZGVyaW5nLmdldEVkaXRvclBpcGVsaW5lU2V0dGluZ3MoKSBhcyBQaXBlbGluZVNldHRpbmdzIHwgbnVsbDtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuX3NldHRpbmdzKSB7XG4gICAgICAgICAgICByZW5kZXJpbmcuc2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncyhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1TQUFcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ01TQUEnLCBuYW1lOiAnTXVsdGlzYW1wbGUgQW50aS1BbGlhc2luZycgfSxcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxuICAgIH0pXG4gICAgZ2V0IE1zYWFFbmFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5tc2FhLmVuYWJsZWQ7XG4gICAgfVxuICAgIHNldCBNc2FhRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLm1zYWEuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ01TQUEnLCBuYW1lOiAnTXVsdGlzYW1wbGUgQW50aS1BbGlhc2luZycsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogQ0NJbnRlZ2VyLFxuICAgICAgICByYW5nZTogWzIsIDQsIDJdLFxuICAgIH0pXG4gICAgc2V0IG1zYWFTYW1wbGVDb3VudCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHZhbHVlID0gMiAqKiBNYXRoLmNlaWwoTWF0aC5sb2cyKE1hdGgubWF4KHZhbHVlLCAyKSkpO1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKHZhbHVlLCA0KTtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MubXNhYS5zYW1wbGVDb3VudCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG1zYWFTYW1wbGVDb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MubXNhYS5zYW1wbGVDb3VudDtcbiAgICB9XG5cbiAgICAvLyBTaGFkaW5nIFNjYWxlXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdTaGFkaW5nU2NhbGUnLCBuYW1lOiAnU2hhZGluZ1NjYWxlJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXG4gICAgfSlcbiAgICBzZXQgc2hhZGluZ1NjYWxlRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmVuYWJsZVNoYWRpbmdTY2FsZSA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYWRpbmdTY2FsZUVuYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmVuYWJsZVNoYWRpbmdTY2FsZTtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0b29sdGlwOiAnaTE4bjpwb3N0cHJvY2Vzcy5zaGFkaW5nU2NhbGUnLFxuICAgICAgICBncm91cDogeyBpZDogJ1NoYWRpbmdTY2FsZScsIG5hbWU6ICdTaGFkaW5nU2NhbGUnIH0sXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXG4gICAgICAgIHJhbmdlOiBbMC4wMSwgNCwgMC4wMV0sXG4gICAgICAgIHNsaWRlOiB0cnVlLFxuICAgIH0pXG4gICAgc2V0IHNoYWRpbmdTY2FsZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnNoYWRpbmdTY2FsZSA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYWRpbmdTY2FsZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3Muc2hhZGluZ1NjYWxlO1xuICAgIH1cblxuICAgIC8vIEJsb29tXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXG4gICAgfSlcbiAgICBzZXQgYmxvb21FbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJsb29tRW5hYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlZDtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxuICAgIH0pXG4gICAgc2V0IGJsb29tTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJsb29tTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20ubWF0ZXJpYWwhO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmJsb29tLmVuYWJsZUFscGhhTWFzaycsXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxuICAgIH0pXG4gICAgc2V0IGJsb29tRW5hYmxlQWxwaGFNYXNrKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLmVuYWJsZUFscGhhTWFzayA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJsb29tRW5hYmxlQWxwaGFNYXNrKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlQWxwaGFNYXNrO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmJsb29tLml0ZXJhdGlvbnMnLFxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDSW50ZWdlcixcbiAgICAgICAgcmFuZ2U6IFsxLCA2LCAxXSxcbiAgICAgICAgc2xpZGU6IHRydWUsXG4gICAgfSlcbiAgICBzZXQgYmxvb21JdGVyYXRpb25zKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucyA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJsb29tSXRlcmF0aW9ucygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucztcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0b29sdGlwOiAnaTE4bjpibG9vbS50aHJlc2hvbGQnLFxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXG4gICAgICAgIG1pbjogMCxcbiAgICB9KVxuICAgIHNldCBibG9vbVRocmVzaG9sZCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLnRocmVzaG9sZCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYmxvb21UaHJlc2hvbGQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLnRocmVzaG9sZDtcbiAgICB9XG5cbiAgICBzZXQgYmxvb21JbnRlbnNpdHkodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5ibG9vbS5pbnRlbnNpdHkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGJsb29tSW50ZW5zaXR5KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5pbnRlbnNpdHk7XG4gICAgfVxuXG4gICAgLy8gQ29sb3IgR3JhZGluZyAoTERSKVxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQ29sb3IgR3JhZGluZycsIG5hbWU6ICdDb2xvckdyYWRpbmcgKExEUikgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxuICAgIH0pXG4gICAgc2V0IGNvbG9yR3JhZGluZ0VuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbG9yR3JhZGluZ0VuYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5lbmFibGVkO1xuICAgIH1cblxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQ29sb3IgR3JhZGluZycsIG5hbWU6ICdDb2xvckdyYWRpbmcgKExEUikgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXG4gICAgfSlcbiAgICBzZXQgY29sb3JHcmFkaW5nTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29sb3JHcmFkaW5nTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsITtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICB0b29sdGlwOiAnaTE4bjpjb2xvcl9ncmFkaW5nLmNvbnRyaWJ1dGUnLFxuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXG4gICAgICAgIHJhbmdlOiBbMCwgMSwgMC4wMV0sXG4gICAgICAgIHNsaWRlOiB0cnVlLFxuICAgIH0pXG4gICAgc2V0IGNvbG9yR3JhZGluZ0NvbnRyaWJ1dGUodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuY29udHJpYnV0ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgY29sb3JHcmFkaW5nQ29udHJpYnV0ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbnRyaWJ1dGU7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Y29sb3JfZ3JhZGluZy5vcmlnaW5hbE1hcCcsXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQ29sb3IgR3JhZGluZycsIG5hbWU6ICdDb2xvckdyYWRpbmcgKExEUikgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogVGV4dHVyZTJELFxuICAgIH0pXG4gICAgc2V0IGNvbG9yR3JhZGluZ01hcCh2YWw6IFRleHR1cmUyRCkge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwID0gdmFsO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbG9yR3JhZGluZ01hcCgpOiBUZXh0dXJlMkQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCE7XG4gICAgfVxuXG4gICAgLy8gRlhBQVxuICAgIEBwcm9wZXJ0eSh7XG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRlhBQScsIG5hbWU6ICdGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxuICAgIH0pXG4gICAgc2V0IGZ4YWFFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnhhYS5lbmFibGVkID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZnhhYUVuYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZ4YWEuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0ZYQUEnLCBuYW1lOiAnRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxuICAgIH0pXG4gICAgc2V0IGZ4YWFNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmZ4YWEubWF0ZXJpYWwgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGZ4YWFNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5meGFhLm1hdGVyaWFsITtcbiAgICB9XG5cbiAgICAvLyBGU1JcbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0ZTUicsIG5hbWU6ICdGaWRlbGl0eUZYIFN1cGVyIFJlc29sdXRpb24nLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcbiAgICB9KVxuICAgIHNldCBmc3JFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnNyLmVuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKEVESVRPUikge1xuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmc3JFbmFibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5mc3IuZW5hYmxlZDtcbiAgICB9XG5cbiAgICBAcHJvcGVydHkoe1xuICAgICAgICBncm91cDogeyBpZDogJ0ZTUicsIG5hbWU6ICdGaWRlbGl0eUZYIFN1cGVyIFJlc29sdXRpb24nLCBzdHlsZTogJ3NlY3Rpb24nIH0sXG4gICAgICAgIHR5cGU6IE1hdGVyaWFsLFxuICAgIH0pXG4gICAgc2V0IGZzck1hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuZnNyLm1hdGVyaWFsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZzci5tYXRlcmlhbCA9IHZhbHVlO1xuICAgICAgICBpZiAoRURJVE9SKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGZzck1hdGVyaWFsKCk6IE1hdGVyaWFsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZzci5tYXRlcmlhbCE7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdGU1InLCBuYW1lOiAnRmlkZWxpdHlGWCBTdXBlciBSZXNvbHV0aW9uJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxuICAgICAgICB0eXBlOiBDQ0Zsb2F0LFxuICAgICAgICByYW5nZTogWzAsIDEsIDAuMDFdLFxuICAgICAgICBzbGlkZTogdHJ1ZSxcbiAgICB9KVxuICAgIHNldCBmc3JTaGFycG5lc3ModmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zZXR0aW5ncy5mc3Iuc2hhcnBuZXNzID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBmc3JTaGFycG5lc3MoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZzci5zaGFycG5lc3M7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdUb25lTWFwcGluZycsIG5hbWU6ICdUb25lTWFwcGluZycsIHN0eWxlOiAnc2VjdGlvbicgfSxcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXG4gICAgfSlcbiAgICBzZXQgdG9uZU1hcHBpbmdNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsID0gdmFsdWU7XG4gICAgICAgIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdG9uZU1hcHBpbmdNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy50b25lTWFwcGluZy5tYXRlcmlhbCE7XG4gICAgfVxufVxuIiwiLypcbiBDb3B5cmlnaHQgKGMpIDIwMjEtMjAyNCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cblxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xuIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXG4gb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gVEhFIFNPRlRXQVJFLlxuKi9cblxuaW1wb3J0IHtcbiAgICBhc3NlcnQsIGNjbGVnYWN5LCBjbGFtcCwgZ2VvbWV0cnksIGdmeCwgTGF5ZXJzLCBNYXRlcmlhbCwgcGlwZWxpbmUsXG4gICAgUGlwZWxpbmVFdmVudFByb2Nlc3NvciwgUGlwZWxpbmVFdmVudFR5cGUsIFJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIsIHJlbmRlcmVyLFxuICAgIHJlbmRlcmluZywgc3lzLCBWZWMyLCBWZWMzLCBWZWM0LCB3YXJuLFxufSBmcm9tICdjYyc7XG5cbmltcG9ydCB7IERFQlVHLCBFRElUT1IgfSBmcm9tICdjYy9lbnYnO1xuXG5pbXBvcnQge1xuICAgIG1ha2VQaXBlbGluZVNldHRpbmdzLFxuICAgIFBpcGVsaW5lU2V0dGluZ3MsXG59IGZyb20gJy4vYnVpbHRpbi1waXBlbGluZS10eXBlcyc7XG5cbmNvbnN0IHsgQUFCQiwgU3BoZXJlLCBpbnRlcnNlY3QgfSA9IGdlb21ldHJ5O1xuY29uc3QgeyBDbGVhckZsYWdCaXQsIENvbG9yLCBGb3JtYXQsIEZvcm1hdEZlYXR1cmVCaXQsIExvYWRPcCwgU3RvcmVPcCwgVGV4dHVyZVR5cGUsIFZpZXdwb3J0IH0gPSBnZng7XG5jb25zdCB7IHNjZW5lIH0gPSByZW5kZXJlcjtcbmNvbnN0IHsgQ2FtZXJhVXNhZ2UsIENTTUxldmVsLCBMaWdodFR5cGUgfSA9IHNjZW5lO1xuXG5mdW5jdGlvbiBmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISEoY2FtZXJhLmNsZWFyRmxhZyAmIChDbGVhckZsYWdCaXQuQ09MT1IgfCAoQ2xlYXJGbGFnQml0LlNURU5DSUwgPDwgMSkpKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NtTWFpbkxpZ2h0Vmlld3BvcnQoXG4gICAgbGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQsXG4gICAgdzogbnVtYmVyLFxuICAgIGg6IG51bWJlcixcbiAgICBsZXZlbDogbnVtYmVyLFxuICAgIHZwOiBnZnguVmlld3BvcnQsXG4gICAgc2NyZWVuU3BhY2VTaWduWTogbnVtYmVyLFxuKTogdm9pZCB7XG4gICAgaWYgKGxpZ2h0LnNoYWRvd0ZpeGVkQXJlYSB8fCBsaWdodC5jc21MZXZlbCA9PT0gQ1NNTGV2ZWwuTEVWRUxfMSkge1xuICAgICAgICB2cC5sZWZ0ID0gMDtcbiAgICAgICAgdnAudG9wID0gMDtcbiAgICAgICAgdnAud2lkdGggPSBNYXRoLnRydW5jKHcpO1xuICAgICAgICB2cC5oZWlnaHQgPSBNYXRoLnRydW5jKGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZwLmxlZnQgPSBNYXRoLnRydW5jKGxldmVsICUgMiAqIDAuNSAqIHcpO1xuICAgICAgICBpZiAoc2NyZWVuU3BhY2VTaWduWSA+IDApIHtcbiAgICAgICAgICAgIHZwLnRvcCA9IE1hdGgudHJ1bmMoKDEgLSBNYXRoLmZsb29yKGxldmVsIC8gMikpICogMC41ICogaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2cC50b3AgPSBNYXRoLnRydW5jKE1hdGguZmxvb3IobGV2ZWwgLyAyKSAqIDAuNSAqIGgpO1xuICAgICAgICB9XG4gICAgICAgIHZwLndpZHRoID0gTWF0aC50cnVuYygwLjUgKiB3KTtcbiAgICAgICAgdnAuaGVpZ2h0ID0gTWF0aC50cnVuYygwLjUgKiBoKTtcbiAgICB9XG4gICAgdnAubGVmdCA9IE1hdGgubWF4KDAsIHZwLmxlZnQpO1xuICAgIHZwLnRvcCA9IE1hdGgubWF4KDAsIHZwLnRvcCk7XG4gICAgdnAud2lkdGggPSBNYXRoLm1heCgxLCB2cC53aWR0aCk7XG4gICAgdnAuaGVpZ2h0ID0gTWF0aC5tYXgoMSwgdnAuaGVpZ2h0KTtcbn1cblxuZXhwb3J0IGNsYXNzIFBpcGVsaW5lQ29uZmlncyB7XG4gICAgaXNXZWIgPSBmYWxzZTtcbiAgICBpc1dlYkdMMSA9IGZhbHNlO1xuICAgIGlzV2ViR1BVID0gZmFsc2U7XG4gICAgaXNNb2JpbGUgPSBmYWxzZTtcbiAgICBpc0hEUiA9IGZhbHNlO1xuICAgIHVzZUZsb2F0T3V0cHV0ID0gZmFsc2U7XG4gICAgdG9uZU1hcHBpbmdUeXBlID0gMDsgLy8gMDogQUNFUywgMTogTm9uZVxuICAgIHNoYWRvd0VuYWJsZWQgPSBmYWxzZTtcbiAgICBzaGFkb3dNYXBGb3JtYXQgPSBGb3JtYXQuUjMyRjtcbiAgICBzaGFkb3dNYXBTaXplID0gbmV3IFZlYzIoMSwgMSk7XG4gICAgdXNlUGxhbmFyU2hhZG93ID0gZmFsc2U7XG4gICAgc2NyZWVuU3BhY2VTaWduWSA9IDE7XG4gICAgc3VwcG9ydERlcHRoU2FtcGxlID0gZmFsc2U7XG4gICAgbW9iaWxlTWF4U3BvdExpZ2h0U2hhZG93TWFwcyA9IDE7XG5cbiAgICBwbGF0Zm9ybSA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xufVxuXG5mdW5jdGlvbiBzZXR1cFBpcGVsaW5lQ29uZmlncyhcbiAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgIGNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcbik6IHZvaWQge1xuICAgIGNvbnN0IHNhbXBsZUZlYXR1cmUgPSBGb3JtYXRGZWF0dXJlQml0LlNBTVBMRURfVEVYVFVSRSB8IEZvcm1hdEZlYXR1cmVCaXQuTElORUFSX0ZJTFRFUjtcbiAgICBjb25zdCBkZXZpY2UgPSBwcGwuZGV2aWNlO1xuICAgIC8vIFBsYXRmb3JtXG4gICAgY29uZmlncy5pc1dlYiA9ICFzeXMuaXNOYXRpdmU7XG4gICAgY29uZmlncy5pc1dlYkdMMSA9IGRldmljZS5nZnhBUEkgPT09IGdmeC5BUEkuV0VCR0w7XG4gICAgY29uZmlncy5pc1dlYkdQVSA9IGRldmljZS5nZnhBUEkgPT09IGdmeC5BUEkuV0VCR1BVO1xuICAgIGNvbmZpZ3MuaXNNb2JpbGUgPSBzeXMuaXNNb2JpbGU7XG5cbiAgICAvLyBSZW5kZXJpbmdcbiAgICBjb25maWdzLmlzSERSID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLmlzSERSOyAvLyBIYXMgdG9uZSBtYXBwaW5nXG4gICAgY29uZmlncy51c2VGbG9hdE91dHB1dCA9IHBwbC5nZXRNYWNyb0Jvb2woJ0NDX1VTRV9GTE9BVF9PVVRQVVQnKTtcbiAgICBjb25maWdzLnRvbmVNYXBwaW5nVHlwZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5wb3N0U2V0dGluZ3MudG9uZU1hcHBpbmdUeXBlO1xuICAgIC8vIFNoYWRvd1xuICAgIGNvbnN0IHNoYWRvd0luZm8gPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cztcbiAgICBjb25maWdzLnNoYWRvd0VuYWJsZWQgPSBzaGFkb3dJbmZvLmVuYWJsZWQ7XG4gICAgY29uZmlncy5zaGFkb3dNYXBGb3JtYXQgPSBwaXBlbGluZS5zdXBwb3J0c1IzMkZsb2F0VGV4dHVyZShwcGwuZGV2aWNlKSA/IEZvcm1hdC5SMzJGIDogRm9ybWF0LlJHQkE4O1xuICAgIGNvbmZpZ3Muc2hhZG93TWFwU2l6ZS5zZXQoc2hhZG93SW5mby5zaXplKTtcbiAgICBjb25maWdzLnVzZVBsYW5hclNoYWRvdyA9IHNoYWRvd0luZm8uZW5hYmxlZCAmJiBzaGFkb3dJbmZvLnR5cGUgPT09IHJlbmRlcmVyLnNjZW5lLlNoYWRvd1R5cGUuUGxhbmFyO1xuICAgIC8vIERldmljZVxuICAgIGNvbmZpZ3Muc2NyZWVuU3BhY2VTaWduWSA9IHBwbC5kZXZpY2UuY2FwYWJpbGl0aWVzLnNjcmVlblNwYWNlU2lnblk7XG4gICAgY29uZmlncy5zdXBwb3J0RGVwdGhTYW1wbGUgPSAocHBsLmRldmljZS5nZXRGb3JtYXRGZWF0dXJlcyhGb3JtYXQuREVQVEhfU1RFTkNJTCkgJiBzYW1wbGVGZWF0dXJlKSA9PT0gc2FtcGxlRmVhdHVyZTtcbiAgICAvLyBDb25zdGFudHNcbiAgICBjb25zdCBzY3JlZW5TcGFjZVNpZ25ZID0gZGV2aWNlLmNhcGFiaWxpdGllcy5zY3JlZW5TcGFjZVNpZ25ZO1xuICAgIGNvbmZpZ3MucGxhdGZvcm0ueCA9IGNvbmZpZ3MuaXNNb2JpbGUgPyAxLjAgOiAwLjA7XG4gICAgY29uZmlncy5wbGF0Zm9ybS53ID0gKHNjcmVlblNwYWNlU2lnblkgKiAwLjUgKyAwLjUpIDw8IDEgfCAoZGV2aWNlLmNhcGFiaWxpdGllcy5jbGlwU3BhY2VTaWduWSAqIDAuNSArIDAuNSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGlwZWxpbmVTZXR0aW5nczIgZXh0ZW5kcyBQaXBlbGluZVNldHRpbmdzIHtcbiAgICBfcGFzc2VzPzogcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXJbXTtcbn1cblxuY29uc3QgZGVmYXVsdFNldHRpbmdzID0gbWFrZVBpcGVsaW5lU2V0dGluZ3MoKTtcblxuZXhwb3J0IGNsYXNzIENhbWVyYUNvbmZpZ3Mge1xuICAgIHNldHRpbmdzOiBQaXBlbGluZVNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xuICAgIC8vIFdpbmRvd1xuICAgIGlzTWFpbkdhbWVXaW5kb3cgPSBmYWxzZTtcbiAgICByZW5kZXJXaW5kb3dJZCA9IDA7XG4gICAgLy8gQ2FtZXJhXG4gICAgY29sb3JOYW1lID0gJyc7XG4gICAgZGVwdGhTdGVuY2lsTmFtZSA9ICcnO1xuICAgIC8vIFBpcGVsaW5lXG4gICAgZW5hYmxlRnVsbFBpcGVsaW5lID0gZmFsc2U7XG4gICAgZW5hYmxlUHJvZmlsZXIgPSBmYWxzZTtcbiAgICByZW1haW5pbmdQYXNzZXMgPSAwO1xuICAgIC8vIFNoYWRpbmcgU2NhbGVcbiAgICBlbmFibGVTaGFkaW5nU2NhbGUgPSBmYWxzZTtcbiAgICBzaGFkaW5nU2NhbGUgPSAxLjA7XG4gICAgbmF0aXZlV2lkdGggPSAxO1xuICAgIG5hdGl2ZUhlaWdodCA9IDE7XG4gICAgd2lkdGggPSAxOyAvLyBTY2FsZWQgd2lkdGhcbiAgICBoZWlnaHQgPSAxOyAvLyBTY2FsZWQgaGVpZ2h0XG4gICAgLy8gUmFkaWFuY2VcbiAgICBlbmFibGVIRFIgPSBmYWxzZTtcbiAgICByYWRpYW5jZUZvcm1hdCA9IGdmeC5Gb3JtYXQuUkdCQTg7XG4gICAgLy8gVG9uZSBNYXBwaW5nXG4gICAgY29weUFuZFRvbmVtYXBNYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsID0gbnVsbDtcbiAgICAvLyBEZXB0aFxuICAgIC8qKiBAZW4gbXV0YWJsZSAqL1xuICAgIGVuYWJsZVN0b3JlU2NlbmVEZXB0aCA9IGZhbHNlO1xufVxuXG5jb25zdCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2sgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMCk7XG5cbmZ1bmN0aW9uIHNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5Q29uZmlnT3JkZXIocGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdKTogdm9pZCB7XG4gICAgcGFzc0J1aWxkZXJzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEuZ2V0Q29uZmlnT3JkZXIoKSAtIGIuZ2V0Q29uZmlnT3JkZXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc29ydFBpcGVsaW5lUGFzc0J1aWxkZXJzQnlSZW5kZXJPcmRlcihwYXNzQnVpbGRlcnM6IHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyW10pOiB2b2lkIHtcbiAgICBwYXNzQnVpbGRlcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5nZXRSZW5kZXJPcmRlcigpIC0gYi5nZXRSZW5kZXJPcmRlcigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRDb3B5VG9TY3JlZW5QYXNzKFxuICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzLFxuICAgIGlucHV0OiBzdHJpbmcsXG4pOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgYXNzZXJ0KCEhY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsKTtcbiAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3MoXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlV2lkdGgsXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0LFxuICAgICAgICAnY2MtdG9uZS1tYXBwaW5nJyk7XG4gICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lLFxuICAgICAgICBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsXG4gICAgICAgIHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XG4gICAgcGFzcy5hZGRUZXh0dXJlKGlucHV0LCAnaW5wdXRUZXh0dXJlJyk7XG4gICAgcGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgcHBsQ29uZmlncy5wbGF0Zm9ybSk7XG4gICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGNhbWVyYUNvbmZpZ3MuY29weUFuZFRvbmVtYXBNYXRlcmlhbCwgMSk7XG4gICAgcmV0dXJuIHBhc3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChwcmV2TmFtZTogc3RyaW5nLCBwcmVmaXg6IHN0cmluZywgaWQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHByZXZOYW1lLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSR7MSAtIE51bWJlcihwcmV2TmFtZS5jaGFyQXQocHJlZml4Lmxlbmd0aCkpfV8ke2lkfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke3ByZWZpeH0wXyR7aWR9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGlwZWxpbmVDb250ZXh0IHtcbiAgICBjb2xvck5hbWU6IHN0cmluZztcbiAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmc7XG59XG5cbmNsYXNzIEZvcndhcmRMaWdodGluZyB7XG4gICAgLy8gQWN0aXZlIGxpZ2h0c1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGlnaHRzOiByZW5kZXJlci5zY2VuZS5MaWdodFtdID0gW107XG4gICAgLy8gQWN0aXZlIHNwb3QgbGlnaHRzIHdpdGggc2hhZG93cyAoTXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGxpZ2h0c2ApXG4gICAgcHJpdmF0ZSByZWFkb25seSBzaGFkb3dFbmFibGVkU3BvdExpZ2h0czogcmVuZGVyZXIuc2NlbmUuU3BvdExpZ2h0W10gPSBbXTtcblxuICAgIC8vIEludGVybmFsIGNhY2hlZCByZXNvdXJjZXNcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zcGhlcmUgPSBTcGhlcmUuY3JlYXRlKDAsIDAsIDAsIDEpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2JvdW5kaW5nQm94ID0gbmV3IEFBQkIoKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yYW5nZWREaXJMaWdodEJvdW5kaW5nQm94ID0gbmV3IEFBQkIoMC4wLCAwLjAsIDAuMCwgMC41LCAwLjUsIDAuNSk7XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gSW50ZXJmYWNlXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHB1YmxpYyBjdWxsTGlnaHRzKHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSwgZnJ1c3R1bTogZ2VvbWV0cnkuRnJ1c3R1bSwgY2FtZXJhUG9zPzogVmVjMyk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBNYWtlIGxpZ2h0IGN1bGxpbmcgbmF0aXZlXG4gICAgICAgIHRoaXMubGlnaHRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMubGVuZ3RoID0gMDtcbiAgICAgICAgLy8gc3BvdCBsaWdodHNcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiBzY2VuZS5zcG90TGlnaHRzKSB7XG4gICAgICAgICAgICBpZiAobGlnaHQuYmFrZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFNwaGVyZS5zZXQodGhpcy5fc3BoZXJlLCBsaWdodC5wb3NpdGlvbi54LCBsaWdodC5wb3NpdGlvbi55LCBsaWdodC5wb3NpdGlvbi56LCBsaWdodC5yYW5nZSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0LnNwaGVyZUZydXN0dW0odGhpcy5fc3BoZXJlLCBmcnVzdHVtKSkge1xuICAgICAgICAgICAgICAgIGlmIChsaWdodC5zaGFkb3dFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMucHVzaChsaWdodCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodHMucHVzaChsaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNwaGVyZSBsaWdodHNcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiBzY2VuZS5zcGhlcmVMaWdodHMpIHtcbiAgICAgICAgICAgIGlmIChsaWdodC5iYWtlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3BoZXJlLnNldCh0aGlzLl9zcGhlcmUsIGxpZ2h0LnBvc2l0aW9uLngsIGxpZ2h0LnBvc2l0aW9uLnksIGxpZ2h0LnBvc2l0aW9uLnosIGxpZ2h0LnJhbmdlKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Quc3BoZXJlRnJ1c3R1bSh0aGlzLl9zcGhlcmUsIGZydXN0dW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saWdodHMucHVzaChsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcG9pbnQgbGlnaHRzXG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2Ygc2NlbmUucG9pbnRMaWdodHMpIHtcbiAgICAgICAgICAgIGlmIChsaWdodC5iYWtlZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU3BoZXJlLnNldCh0aGlzLl9zcGhlcmUsIGxpZ2h0LnBvc2l0aW9uLngsIGxpZ2h0LnBvc2l0aW9uLnksIGxpZ2h0LnBvc2l0aW9uLnosIGxpZ2h0LnJhbmdlKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3Quc3BoZXJlRnJ1c3R1bSh0aGlzLl9zcGhlcmUsIGZydXN0dW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saWdodHMucHVzaChsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmFuZ2VkIGRpciBsaWdodHNcbiAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiBzY2VuZS5yYW5nZWREaXJMaWdodHMpIHtcbiAgICAgICAgICAgIEFBQkIudHJhbnNmb3JtKHRoaXMuX2JvdW5kaW5nQm94LCB0aGlzLl9yYW5nZWREaXJMaWdodEJvdW5kaW5nQm94LCBsaWdodC5ub2RlIS5nZXRXb3JsZE1hdHJpeCgpKTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QuYWFiYkZydXN0dW0odGhpcy5fYm91bmRpbmdCb3gsIGZydXN0dW0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saWdodHMucHVzaChsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FtZXJhUG9zKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLnNvcnQoXG4gICAgICAgICAgICAgICAgKGxocywgcmhzKSA9PiBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIGxocy5wb3NpdGlvbikgLSBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIHJocy5wb3NpdGlvbiksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2FkZExpZ2h0UXVldWVzKGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLCBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcik6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMubGlnaHRzKSB7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2ZvcndhcmQtYWRkJyk7XG4gICAgICAgICAgICBzd2l0Y2ggKGxpZ2h0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5TUEhFUkU6XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAnc3BoZXJlLWxpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBMaWdodFR5cGUuU1BPVDpcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdzcG90LWxpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBMaWdodFR5cGUuUE9JTlQ6XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAncG9pbnQtbGlnaHQnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5SQU5HRURfRElSRUNUSU9OQUw6XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLm5hbWUgPSAncmFuZ2VkLWRpcmVjdGlvbmFsLWxpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICd1bmtub3duLWxpZ2h0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXVlLmFkZFNjZW5lKFxuICAgICAgICAgICAgICAgIGNhbWVyYSxcbiAgICAgICAgICAgICAgICByZW5kZXJpbmcuU2NlbmVGbGFncy5CTEVORCxcbiAgICAgICAgICAgICAgICBsaWdodCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIGFkZFNwb3RsaWdodFNoYWRvd1Bhc3NlcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIG1heE51bVNoYWRvd01hcHM6IG51bWJlcixcbiAgICApOiB2b2lkIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd01hcFNpemUgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cy5zaXplO1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93UGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHNoYWRvd01hcFNpemUueCwgc2hhZG93TWFwU2l6ZS55LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5uYW1lID0gYFNwb3RMaWdodFNoYWRvd1Bhc3Mke2l9YDtcbiAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkUmVuZGVyVGFyZ2V0KGBTcG90U2hhZG93TWFwJHtpfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgbmV3IENvbG9yKDEsIDEsIDEsIDEpKTtcbiAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkRGVwdGhTdGVuY2lsKGBTcG90U2hhZG93RGVwdGgke2l9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLkRJU0NBUkQpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk5PTkUsICdzaGFkb3ctY2FzdGVyJylcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCByZW5kZXJpbmcuU2NlbmVGbGFncy5PUEFRVUUgfCByZW5kZXJpbmcuU2NlbmVGbGFncy5NQVNLIHwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuU0hBRE9XX0NBU1RFUilcbiAgICAgICAgICAgICAgICAudXNlTGlnaHRGcnVzdHVtKGxpZ2h0KTtcbiAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgIGlmIChpID49IG1heE51bVNoYWRvd01hcHMpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgYWRkTGlnaHRRdWV1ZXMocGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLCBtYXhOdW1TaGFkb3dNYXBzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fYWRkTGlnaHRRdWV1ZXMoY2FtZXJhLCBwYXNzKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMpIHtcbiAgICAgICAgICAgIC8vIEFkZCBzcG90LWxpZ2h0IHBhc3NcbiAgICAgICAgICAgIC8vIFNhdmUgbGFzdCBSZW5kZXJQYXNzIHRvIHRoZSBgcGFzc2AgdmFyaWFibGVcbiAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IEZpeCBwZXIgcXVldWUgYWRkVGV4dHVyZVxuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTcG90U2hhZG93TWFwJHtpfWAsICdjY19zcG90U2hhZG93TWFwJyk7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5CTEVORCwgJ2ZvcndhcmQtYWRkJyk7XG4gICAgICAgICAgICBxdWV1ZS5hZGRTY2VuZShjYW1lcmEsIHJlbmRlcmluZy5TY2VuZUZsYWdzLkJMRU5ELCBsaWdodCk7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgICBpZiAoaSA+PSBtYXhOdW1TaGFkb3dNYXBzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RpY2U6IEZvcndhcmRMaWdodGluZyBjYW5ub3QgaGFuZGxlIGEgbG90IG9mIGxpZ2h0cy5cbiAgICAvLyBJZiB0aGVyZSBhcmUgdG9vIG1hbnkgbGlnaHRzLCB0aGUgcGVyZm9ybWFuY2Ugd2lsbCBiZSB2ZXJ5IHBvb3IuXG4gICAgLy8gSWYgbWFueSBsaWdodHMgYXJlIG5lZWRlZCwgcGxlYXNlIGltcGxlbWVudCBhIGZvcndhcmQrIG9yIGRlZmVycmVkIHJlbmRlcmluZyBwaXBlbGluZS5cbiAgICBwdWJsaWMgYWRkTGlnaHRQYXNzZXMoXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wLFxuICAgICAgICBpZDogbnVtYmVyLCAvLyB3aW5kb3cgaWRcbiAgICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICB2aWV3cG9ydDogZ2Z4LlZpZXdwb3J0LFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIHRoaXMuX2FkZExpZ2h0UXVldWVzKGNhbWVyYSwgcGFzcyk7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgY29uc3Qgc2hhZG93TWFwU2l6ZSA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemU7XG4gICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2YgdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93UGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHNoYWRvd01hcFNpemUueCwgc2hhZG93TWFwU2l6ZS55LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5uYW1lID0gJ1Nwb3RsaWdodFNoYWRvd1Bhc3MnO1xuICAgICAgICAgICAgLy8gUmV1c2UgY3NtIHNoYWRvdyBtYXBcbiAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkUmVuZGVyVGFyZ2V0KGBTaGFkb3dNYXAke2lkfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgbmV3IENvbG9yKDEsIDEsIDEsIDEpKTtcbiAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkRGVwdGhTdGVuY2lsKGBTaGFkb3dEZXB0aCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLkRJU0NBUkQpO1xuICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk5PTkUsICdzaGFkb3ctY2FzdGVyJylcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCByZW5kZXJpbmcuU2NlbmVGbGFncy5PUEFRVUUgfCByZW5kZXJpbmcuU2NlbmVGbGFncy5NQVNLIHwgcmVuZGVyaW5nLlNjZW5lRmxhZ3MuU0hBRE9XX0NBU1RFUilcbiAgICAgICAgICAgICAgICAudXNlTGlnaHRGcnVzdHVtKGxpZ2h0KTtcblxuICAgICAgICAgICAgLy8gQWRkIHNwb3QtbGlnaHQgcGFzc1xuICAgICAgICAgICAgLy8gU2F2ZSBsYXN0IFJlbmRlclBhc3MgdG8gdGhlIGBwYXNzYCB2YXJpYWJsZVxuICAgICAgICAgICAgKytjb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlT3AgPSBjb3VudCA9PT0gdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IGRlcHRoU3RlbmNpbFN0b3JlT3BcbiAgICAgICAgICAgICAgICA6IFN0b3JlT3AuU1RPUkU7XG5cbiAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgcGFzcy5uYW1lID0gJ1Nwb3RsaWdodFdpdGhTaGFkb3dNYXAnO1xuICAgICAgICAgICAgcGFzcy5zZXRWaWV3cG9ydCh2aWV3cG9ydCk7XG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5MT0FEKTtcbiAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBzdG9yZU9wKTtcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShgU2hhZG93TWFwJHtpZH1gLCAnY2Nfc3BvdFNoYWRvd01hcCcpO1xuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuQkxFTkQsICdmb3J3YXJkLWFkZCcpO1xuICAgICAgICAgICAgcXVldWUuYWRkU2NlbmUoXG4gICAgICAgICAgICAgICAgY2FtZXJhLFxuICAgICAgICAgICAgICAgIHJlbmRlcmluZy5TY2VuZUZsYWdzLkJMRU5ELFxuICAgICAgICAgICAgICAgIGxpZ2h0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNNdWx0aXBsZUxpZ2h0UGFzc2VzTmVlZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5sZW5ndGggPiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb3J3YXJkUGFzc0NvbmZpZ3Mge1xuICAgIGVuYWJsZU1haW5MaWdodFNoYWRvd01hcDogYm9vbGVhbjtcbiAgICBlbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXA6IGJvb2xlYW47XG4gICAgZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlOiBib29sZWFuO1xuICAgIGVuYWJsZU1TQUE6IGJvb2xlYW47XG4gICAgZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3M6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xuICAgIHN0YXRpYyBDb25maWdPcmRlciA9IDEwMDtcbiAgICBzdGF0aWMgUmVuZGVyT3JkZXIgPSAxMDA7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIEJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIuQ29uZmlnT3JkZXI7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBCdWlsdGluRm9yd2FyZFBhc3NCdWlsZGVyLlJlbmRlck9yZGVyO1xuICAgIH1cbiAgICBjb25maWdDYW1lcmEoXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcbiAgICAgICAgcGlwZWxpbmVDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzKTogdm9pZCB7XG4gICAgICAgIC8vIFNoYWRvd1xuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFNoYWRvd01hcCA9IHBpcGVsaW5lQ29uZmlncy5zaGFkb3dFbmFibGVkXG4gICAgICAgICAgICAmJiAhcGlwZWxpbmVDb25maWdzLnVzZVBsYW5hclNoYWRvd1xuICAgICAgICAgICAgJiYgISFjYW1lcmEuc2NlbmVcbiAgICAgICAgICAgICYmICEhY2FtZXJhLnNjZW5lLm1haW5MaWdodFxuICAgICAgICAgICAgJiYgY2FtZXJhLnNjZW5lLm1haW5MaWdodC5zaGFkb3dFbmFibGVkO1xuXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwID0gcGlwZWxpbmVDb25maWdzLnNoYWRvd0VuYWJsZWRcbiAgICAgICAgICAgICYmIHBpcGVsaW5lQ29uZmlncy51c2VQbGFuYXJTaGFkb3dcbiAgICAgICAgICAgICYmICEhY2FtZXJhLnNjZW5lXG4gICAgICAgICAgICAmJiAhIWNhbWVyYS5zY2VuZS5tYWluTGlnaHRcbiAgICAgICAgICAgICYmIGNhbWVyYS5zY2VuZS5tYWluTGlnaHQuc2hhZG93RW5hYmxlZDtcblxuICAgICAgICAvLyBSZWZsZWN0aW9uIFByb2JlXG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlID1cbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaXNNYWluR2FtZVdpbmRvdyB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlNDRU5FX1ZJRVc7XG5cbiAgICAgICAgLy8gTVNBQVxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuZW5hYmxlZFxuICAgICAgICAgICAgJiYgIWNhbWVyYUNvbmZpZ3MuZW5hYmxlU3RvcmVTY2VuZURlcHRoIC8vIENhbm5vdCBzdG9yZSBNUyBkZXB0aCwgcmVzb2x2ZSBkZXB0aCBpcyBhbHNvIG5vdCBjcm9zcy1wbGF0Zm9ybVxuICAgICAgICAgICAgJiYgIXBpcGVsaW5lQ29uZmlncy5pc1dlYiAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiByZW1vdmUgdGhpcyBjb25zdHJhaW50XG4gICAgICAgICAgICAmJiAhcGlwZWxpbmVDb25maWdzLmlzV2ViR0wxO1xuXG4gICAgICAgIC8vIEZvcndhcmQgcmVuZGVyaW5nIChEZXBlbmQgb24gTVNBQSBhbmQgVEJSKVxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzXG4gICAgICAgICAgICA9IHBpcGVsaW5lQ29uZmlncy5pc01vYmlsZSB8fCBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUE7XG5cbiAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICB9XG4gICAgd2luZG93UmVzaXplKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3csXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxuICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBSZXNvdXJjZUZsYWdzID0gcmVuZGVyaW5nLlJlc291cmNlRmxhZ3M7XG4gICAgICAgIGNvbnN0IFJlc291cmNlUmVzaWRlbmN5ID0gcmVuZGVyaW5nLlJlc291cmNlUmVzaWRlbmN5O1xuICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5yZW5kZXJXaW5kb3dJZDtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihuYXRpdmVXaWR0aCAqIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlKSwgMSlcbiAgICAgICAgICAgIDogbmF0aXZlV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IobmF0aXZlSGVpZ2h0ICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxuICAgICAgICAgICAgOiBuYXRpdmVIZWlnaHQ7XG5cbiAgICAgICAgLy8gTXNhYVJhZGlhbmNlXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEpIHtcbiAgICAgICAgICAgIC8vIE5vdGljZTogV2UgbmV2ZXIgc3RvcmUgbXVsdGlzYW1wbGUgcmVzdWx0cy5cbiAgICAgICAgICAgIC8vIFRoZXNlIHNhbXBsZXMgYXJlIGFsd2F5cyByZXNvbHZlZCBhbmQgZGlzY2FyZGVkIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwYXNzLlxuICAgICAgICAgICAgLy8gU28gdGhlIFJlc291cmNlUmVzaWRlbmN5IHNob3VsZCBiZSBNRU1PUllMRVNTLlxuICAgICAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlSERSKSB7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFRleHR1cmUoYE1zYWFSYWRpYW5jZSR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBwbC5hZGRUZXh0dXJlKGBNc2FhUmFkaWFuY2Uke2lkfWAsIFRleHR1cmVUeXBlLlRFWDJELCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcGwuYWRkVGV4dHVyZShgTXNhYURlcHRoU3RlbmNpbCR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0LCAxLCAxLCAxLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBSZXNvdXJjZVJlc2lkZW5jeS5NRU1PUllMRVNTKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1haW5saWdodCBTaGFkb3dNYXBcbiAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChcbiAgICAgICAgICAgIGBTaGFkb3dNYXAke2lkfWAsXG4gICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcEZvcm1hdCxcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxuICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICk7XG4gICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoXG4gICAgICAgICAgICBgU2hhZG93RGVwdGgke2lkfWAsXG4gICAgICAgICAgICBGb3JtYXQuREVQVEhfU1RFTkNJTCxcbiAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwU2l6ZS54LFxuICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU3BvdC1saWdodCBzaGFkb3cgbWFwc1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzcykge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBwcGxDb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoXG4gICAgICAgICAgICAgICAgICAgIGBTcG90U2hhZG93TWFwJHtpfWAsXG4gICAgICAgICAgICAgICAgICAgIHBwbENvbmZpZ3Muc2hhZG93TWFwRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueCxcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKFxuICAgICAgICAgICAgICAgICAgICBgU3BvdFNoYWRvd0RlcHRoJHtpfWAsXG4gICAgICAgICAgICAgICAgICAgIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgICAgICAgICAgICAgICBwcGxDb25maWdzLnNoYWRvd01hcFNpemUueCxcbiAgICAgICAgICAgICAgICAgICAgcHBsQ29uZmlncy5zaGFkb3dNYXBTaXplLnksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncyxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgaWQgPSBjYW1lcmEud2luZG93LnJlbmRlcldpbmRvd0lkO1xuXG4gICAgICAgIGNvbnN0IHNjZW5lID0gY2FtZXJhLnNjZW5lITtcbiAgICAgICAgY29uc3QgbWFpbkxpZ2h0ID0gc2NlbmUubWFpbkxpZ2h0O1xuXG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcblxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChMaWdodCBDdWxsaW5nKVxuICAgICAgICB0aGlzLmZvcndhcmRMaWdodGluZy5jdWxsTGlnaHRzKHNjZW5lLCBjYW1lcmEuZnJ1c3R1bSk7XG5cbiAgICAgICAgLy8gTWFpbiBEaXJlY3Rpb25hbCBsaWdodCBDU00gU2hhZG93IE1hcFxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRTaGFkb3dNYXApIHtcbiAgICAgICAgICAgIGFzc2VydCghIW1haW5MaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRDYXNjYWRlZFNoYWRvd01hcFBhc3MocHBsLCBwcGxDb25maWdzLCBpZCwgbWFpbkxpZ2h0LCBjYW1lcmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BvdCBsaWdodCBzaGFkb3cgbWFwcyAoTW9iaWxlIG9yIE1TQUEpXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50bHksIG9ubHkgc3VwcG9ydCAxIHNwb3QgbGlnaHQgd2l0aCBzaGFkb3cgbWFwIG9uIG1vYmlsZSBwbGF0Zm9ybS5cbiAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IFJlbGV4IHRoaXMgbGltaXRhdGlvbi5cbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZExpZ2h0aW5nLmFkZFNwb3RsaWdodFNoYWRvd1Bhc3NlcyhcbiAgICAgICAgICAgICAgICBwcGwsIGNhbWVyYSwgcHBsQ29uZmlncy5tb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyeUFkZFJlZmxlY3Rpb25Qcm9iZVBhc3NlcyhwcGwsIGNhbWVyYUNvbmZpZ3MsIGlkLCBtYWluTGlnaHQsIGNhbWVyYS5zY2VuZSk7XG5cbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID4gMCB8fCBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUgPSBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxuICAgICAgICAgICAgICAgID8gYFNjYWxlZFJhZGlhbmNlMF8ke2lkfWBcbiAgICAgICAgICAgICAgICA6IGBSYWRpYW5jZTBfJHtpZH1gO1xuICAgICAgICAgICAgY29udGV4dC5kZXB0aFN0ZW5jaWxOYW1lID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICAgICA/IGBTY2FsZWRTY2VuZURlcHRoXyR7aWR9YFxuICAgICAgICAgICAgICAgIDogYFNjZW5lRGVwdGhfJHtpZH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUgPSBjYW1lcmFDb25maWdzLmNvbG9yTmFtZTtcbiAgICAgICAgICAgIGNvbnRleHQuZGVwdGhTdGVuY2lsTmFtZSA9IGNhbWVyYUNvbmZpZ3MuZGVwdGhTdGVuY2lsTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhc3MgPSB0aGlzLl9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMoXG4gICAgICAgICAgICBwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsIGlkLCBjYW1lcmEsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLCBjYW1lcmFDb25maWdzLmhlaWdodCwgbWFpbkxpZ2h0LFxuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsIGNvbnRleHQuZGVwdGhTdGVuY2lsTmFtZSxcbiAgICAgICAgICAgICFjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVN0b3JlU2NlbmVEZXB0aCA/IFN0b3JlT3AuU1RPUkUgOiBTdG9yZU9wLkRJU0NBUkQpO1xuXG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVTdG9yZVNjZW5lRGVwdGgpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGVwdGhTdGVuY2lsTmFtZSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwICYmIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkQ29weVRvU2NyZWVuUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsIGNvbnRleHQuY29sb3JOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXNzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgbGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBRdWV1ZUhpbnQgPSByZW5kZXJpbmcuUXVldWVIaW50O1xuICAgICAgICBjb25zdCBTY2VuZUZsYWdzID0gcmVuZGVyaW5nLlNjZW5lRmxhZ3M7XG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gRHluYW1pYyBzdGF0ZXNcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBzaGFkb3dTaXplID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnNoYWRvd3Muc2l6ZTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzaGFkb3dTaXplLng7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHNoYWRvd1NpemUueTtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdwb3J0O1xuICAgICAgICB2aWV3cG9ydC5sZWZ0ID0gdmlld3BvcnQudG9wID0gMDtcbiAgICAgICAgdmlld3BvcnQud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdmlld3BvcnQuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gQ1NNIFNoYWRvdyBNYXBcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcbiAgICAgICAgcGFzcy5uYW1lID0gJ0Nhc2NhZGVkU2hhZG93TWFwJztcbiAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNoYWRvd01hcCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xuICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChgU2hhZG93RGVwdGgke2lkfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5ESVNDQVJEKTtcbiAgICAgICAgY29uc3QgY3NtTGV2ZWwgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuY3NtU3VwcG9ydGVkID8gbGlnaHQuY3NtTGV2ZWwgOiAxO1xuXG4gICAgICAgIC8vIEFkZCBzaGFkb3cgbWFwIHZpZXdwb3J0c1xuICAgICAgICBmb3IgKGxldCBsZXZlbCA9IDA7IGxldmVsICE9PSBjc21MZXZlbDsgKytsZXZlbCkge1xuICAgICAgICAgICAgZ2V0Q3NtTWFpbkxpZ2h0Vmlld3BvcnQobGlnaHQsIHdpZHRoLCBoZWlnaHQsIGxldmVsLCB0aGlzLl92aWV3cG9ydCwgcHBsQ29uZmlncy5zY3JlZW5TcGFjZVNpZ25ZKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlID0gcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuTk9ORSwgJ3NoYWRvdy1jYXN0ZXInKTtcbiAgICAgICAgICAgIGlmICghcHBsQ29uZmlncy5pc1dlYkdQVSkgeyAvLyBUZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgV2ViR1BVXG4gICAgICAgICAgICAgICAgcXVldWUuc2V0Vmlld3BvcnQodGhpcy5fdmlld3BvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWVcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBTY2VuZUZsYWdzLk9QQVFVRSB8IFNjZW5lRmxhZ3MuTUFTSyB8IFNjZW5lRmxhZ3MuU0hBRE9XX0NBU1RFUilcbiAgICAgICAgICAgICAgICAudXNlTGlnaHRGcnVzdHVtKGxpZ2h0LCBsZXZlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcbiAgICAgICAgc2NlbmU6IHJlbmRlcmVyLlJlbmRlclNjZW5lIHwgbnVsbCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVmbGVjdGlvblByb2JlTWFuYWdlciA9IGNjbGVnYWN5LmludGVybmFsLnJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIgYXMgUmVmbGVjdGlvblByb2JlTWFuYWdlciB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKCFyZWZsZWN0aW9uUHJvYmVNYW5hZ2VyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgUmVzb3VyY2VSZXNpZGVuY3kgPSByZW5kZXJpbmcuUmVzb3VyY2VSZXNpZGVuY3k7XG4gICAgICAgIGNvbnN0IHByb2JlcyA9IHJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIuZ2V0UHJvYmVzKCk7XG4gICAgICAgIGNvbnN0IG1heFByb2JlQ291bnQgPSA0O1xuICAgICAgICBsZXQgcHJvYmVJRCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcHJvYmUgb2YgcHJvYmVzKSB7XG4gICAgICAgICAgICBpZiAoIXByb2JlLm5lZWRSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBwcm9iZS5yZW5kZXJBcmVhKCk7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYXJlYS54KSwgMSk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGFyZWEueSksIDEpO1xuXG4gICAgICAgICAgICBpZiAocHJvYmUucHJvYmVUeXBlID09PSByZW5kZXJlci5zY2VuZS5Qcm9iZVR5cGUuUExBTkFSKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjYW1lcmFDb25maWdzLmVuYWJsZVBsYW5hclJlZmxlY3Rpb25Qcm9iZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3cgPSBwcm9iZS5yZWFsdGltZVBsYW5hclRleHR1cmUhLndpbmRvdyE7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JOYW1lID0gYFBsYW5hclByb2JlUlQke3Byb2JlSUR9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXB0aFN0ZW5jaWxOYW1lID0gYFBsYW5hclByb2JlRFMke3Byb2JlSUR9YDtcbiAgICAgICAgICAgICAgICAvLyBQcm9iZVJlc291cmNlXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlcldpbmRvdyhjb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIHdpbmRvdyk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChkZXB0aFN0ZW5jaWxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBnZnguRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQsIFJlc291cmNlUmVzaWRlbmN5Lk1FTU9SWUxFU1MpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvYmVQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcbiAgICAgICAgICAgICAgICBwcm9iZVBhc3MubmFtZSA9IGBQbGFuYXJSZWZsZWN0aW9uUHJvYmUke3Byb2JlSUR9YDtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWlsZFJlZmxlY3Rpb25Qcm9iZVBhc3MocHJvYmVQYXNzLCBjYW1lcmFDb25maWdzLCBpZCwgcHJvYmUuY2FtZXJhLFxuICAgICAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIG1haW5MaWdodCwgc2NlbmUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChFRElUT1IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBmYWNlSWR4ID0gMDsgZmFjZUlkeCA8IHByb2JlLmJha2VkQ3ViZVRleHR1cmVzLmxlbmd0aDsgZmFjZUlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2JlLnVwZGF0ZUNhbWVyYURpcihmYWNlSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2luZG93OiByZW5kZXJlci5SZW5kZXJXaW5kb3cgPSBwcm9iZS5iYWtlZEN1YmVUZXh0dXJlc1tmYWNlSWR4XS53aW5kb3chO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvck5hbWUgPSBgQ3ViZVByb2JlUlQke3Byb2JlSUR9JHtmYWNlSWR4fWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbE5hbWUgPSBgQ3ViZVByb2JlRFMke3Byb2JlSUR9JHtmYWNlSWR4fWA7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2JlUmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlcldpbmRvdyhjb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCB3aW5kb3cpO1xuICAgICAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZnguRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQsIFJlc291cmNlUmVzaWRlbmN5Lk1FTU9SWUxFU1MpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlcmluZ1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iZVBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgICAgICAgICBwcm9iZVBhc3MubmFtZSA9IGBDdWJlUHJvYmUke3Byb2JlSUR9JHtmYWNlSWR4fWA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkUmVmbGVjdGlvblByb2JlUGFzcyhwcm9iZVBhc3MsIGNhbWVyYUNvbmZpZ3MsIGlkLCBwcm9iZS5jYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIG1haW5MaWdodCwgc2NlbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm9iZS5uZWVkUmVuZGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK3Byb2JlSUQ7XG4gICAgICAgICAgICBpZiAocHJvYmVJRCA9PT0gbWF4UHJvYmVDb3VudCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2J1aWxkUmVmbGVjdGlvblByb2JlUGFzcyhcbiAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcbiAgICAgICAgc2NlbmU6IHJlbmRlcmVyLlJlbmRlclNjZW5lIHwgbnVsbCA9IG51bGwsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcbiAgICAgICAgLy8gc2V0IHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IGNvbG9yU3RvcmVPcCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQSA/IFN0b3JlT3AuRElTQ0FSRCA6IFN0b3JlT3AuU1RPUkU7XG5cbiAgICAgICAgLy8gYmluZCBvdXRwdXQgcmVuZGVyIHRhcmdldFxuICAgICAgICBpZiAoZm9yd2FyZE5lZWRDbGVhckNvbG9yKGNhbWVyYSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3Rpb25Qcm9iZUNsZWFyQ29sb3IueCA9IGNhbWVyYS5jbGVhckNvbG9yLng7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnkgPSBjYW1lcmEuY2xlYXJDb2xvci55O1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvci56ID0gY2FtZXJhLmNsZWFyQ29sb3IuejtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSByZW5kZXJpbmcucGFja1JHQkUodGhpcy5fcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvcik7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnkgPSBjbGVhckNvbG9yLnk7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnogPSBjbGVhckNvbG9yLno7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgY29sb3JTdG9yZU9wLCB0aGlzLl9jbGVhckNvbG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIGNvbG9yU3RvcmVPcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIGRlcHRoIHN0ZW5jaWwgYnVmZmVyXG4gICAgICAgIGlmIChjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwpIHtcbiAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKFxuICAgICAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWUsXG4gICAgICAgICAgICAgICAgTG9hZE9wLkNMRUFSLFxuICAgICAgICAgICAgICAgIFN0b3JlT3AuRElTQ0FSRCxcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJEZXB0aCxcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJTdGVuY2lsLFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChkZXB0aFN0ZW5jaWxOYW1lLCBMb2FkT3AuTE9BRCwgU3RvcmVPcC5ESVNDQVJEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBzaGFkb3cgbWFwIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwKSB7XG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUoYFNoYWRvd01hcCR7aWR9YCwgJ2NjX3NoYWRvd01hcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogU2VwYXJhdGUgT1BBUVVFIGFuZCBNQVNLIHF1ZXVlXG5cbiAgICAgICAgLy8gYWRkIG9wYXF1ZSBhbmQgbWFzayBxdWV1ZVxuICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FLCAncmVmbGVjdC1tYXAnKSAvLyBDdXJyZW50bHkgd2UgcHV0IE9QQVFVRSBhbmQgTUFTSyBpbnRvIG9uZSBxdWV1ZSwgc28gUXVldWVIaW50IGlzIE5PTkVcbiAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsXG4gICAgICAgICAgICAgICAgU2NlbmVGbGFncy5PUEFRVUUgfCBTY2VuZUZsYWdzLk1BU0sgfCBTY2VuZUZsYWdzLlJFRkxFQ1RJT05fUFJPQkUsXG4gICAgICAgICAgICAgICAgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzY2VuZSA/IHNjZW5lIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRm9yd2FyZFJhZGlhbmNlUGFzc2VzKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogc3RyaW5nLFxuICAgICAgICBkaXNhYmxlTVNBQTogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wOiBnZnguU3RvcmVPcCA9IFN0b3JlT3AuRElTQ0FSRCxcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBEeW5hbWljIHN0YXRlc1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFByZXBhcmUgY2FtZXJhIGNsZWFyIGNvbG9yXG4gICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBjYW1lcmEuY2xlYXJDb2xvcjsgLy8gUmVkdWNlIEMrKy9UUyBpbnRlcm9wXG4gICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueCA9IGNsZWFyQ29sb3IueDtcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci55ID0gY2xlYXJDb2xvci55O1xuICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnogPSBjbGVhckNvbG9yLno7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29sb3IudyA9IGNsZWFyQ29sb3IudztcblxuICAgICAgICAvLyBQcmVwYXJlIGNhbWVyYSB2aWV3cG9ydFxuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IGNhbWVyYS52aWV3cG9ydDsgLy8gUmVkdWNlIEMrKy9UUyBpbnRlcm9wXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LmxlZnQgPSBNYXRoLnJvdW5kKHZpZXdwb3J0LnggKiB3aWR0aCk7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LnRvcCA9IE1hdGgucm91bmQodmlld3BvcnQueSAqIGhlaWdodCk7XG4gICAgICAgIC8vIEhlcmUgd2UgbXVzdCB1c2UgY2FtZXJhLnZpZXdwb3J0LndpZHRoIGluc3RlYWQgb2YgY2FtZXJhLnZpZXdwb3J0LnosIHdoaWNoXG4gICAgICAgIC8vIGlzIHVuZGVmaW5lZCBvbiBuYXRpdmUgcGxhdGZvcm0uIFRoZSBzYW1lIGFzIGNhbWVyYS52aWV3cG9ydC5oZWlnaHQuXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LndpZHRoID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC53aWR0aCAqIHdpZHRoKSwgMSk7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LmhlaWdodCA9IE1hdGgubWF4KE1hdGgucm91bmQodmlld3BvcnQuaGVpZ2h0ICogaGVpZ2h0KSwgMSk7XG5cbiAgICAgICAgLy8gTVNBQVxuICAgICAgICBjb25zdCBlbmFibGVNU0FBID0gIWRpc2FibGVNU0FBICYmIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQTtcbiAgICAgICAgYXNzZXJ0KCFlbmFibGVNU0FBIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3MpO1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoTWFpbiBEaXJlY3Rpb25hbCBMaWdodClcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBwYXNzID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaW5nbGVGb3J3YXJkUGFzc1xuICAgICAgICAgICAgPyB0aGlzLl9hZGRGb3J3YXJkU2luZ2xlUmFkaWFuY2VQYXNzKHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncyxcbiAgICAgICAgICAgICAgICBpZCwgY2FtZXJhLCBlbmFibGVNU0FBLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXG4gICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wKVxuICAgICAgICAgICAgOiB0aGlzLl9hZGRGb3J3YXJkTXVsdGlwbGVSYWRpYW5jZVBhc3NlcyhwcGwsIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICAgICAgaWQsIGNhbWVyYSwgd2lkdGgsIGhlaWdodCwgbWFpbkxpZ2h0LFxuICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcCk7XG5cbiAgICAgICAgLy8gUGxhbmFyIFNoYWRvd1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFBsYW5hclNoYWRvd1F1ZXVlKGNhbWVyYSwgbWFpbkxpZ2h0LCBwYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoQmxlbmQpXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gQWRkIHRyYW5zcGFyZW50IHF1ZXVlXG5cbiAgICAgICAgY29uc3Qgc2NlbmVGbGFncyA9IFNjZW5lRmxhZ3MuQkxFTkQgfFxuICAgICAgICAgICAgKGNhbWVyYS5nZW9tZXRyeVJlbmRlcmVyXG4gICAgICAgICAgICAgICAgPyBTY2VuZUZsYWdzLkdFT01FVFJZXG4gICAgICAgICAgICAgICAgOiBTY2VuZUZsYWdzLk5PTkUpO1xuXG4gICAgICAgIHBhc3NcbiAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQpXG4gICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBzY2VuZUZsYWdzLCBtYWluTGlnaHQgfHwgdW5kZWZpbmVkKTtcblxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogUmVhZG9ubHk8Q2FtZXJhQ29uZmlncyAmIEZvcndhcmRQYXNzQ29uZmlncz4sXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBlbmFibGVNU0FBOiBib29sZWFuLFxuICAgICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3BcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLmVuYWJsZVNpbmdsZUZvcndhcmRQYXNzKTtcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChNYWluIERpcmVjdGlvbmFsIExpZ2h0KVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcjtcbiAgICAgICAgaWYgKGVuYWJsZU1TQUEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zYWFSYWRpYW5jZU5hbWUgPSBgTXNhYVJhZGlhbmNlJHtpZH1gO1xuICAgICAgICAgICAgY29uc3QgbXNhYURlcHRoU3RlbmNpbE5hbWUgPSBgTXNhYURlcHRoU3RlbmNpbCR7aWR9YDtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZUNvdW50ID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50O1xuXG4gICAgICAgICAgICBjb25zdCBtc1Bhc3MgPSBwcGwuYWRkTXVsdGlzYW1wbGVSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsIHNhbXBsZUNvdW50LCAwLCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgbXNQYXNzLm5hbWUgPSAnTXNhYUZvcndhcmRQYXNzJztcblxuICAgICAgICAgICAgLy8gTVNBQSBhbHdheXMgZGlzY2FyZHMgZGVwdGggc3RlbmNpbFxuICAgICAgICAgICAgdGhpcy5fYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyhtc1Bhc3MsIGNhbWVyYUNvbmZpZ3MsIGlkLCBjYW1lcmEsXG4gICAgICAgICAgICAgICAgbXNhYVJhZGlhbmNlTmFtZSwgbXNhYURlcHRoU3RlbmNpbE5hbWUsIFN0b3JlT3AuRElTQ0FSRCwgbWFpbkxpZ2h0KTtcblxuICAgICAgICAgICAgbXNQYXNzLnJlc29sdmVSZW5kZXJUYXJnZXQobXNhYVJhZGlhbmNlTmFtZSwgY29sb3JOYW1lKTtcblxuICAgICAgICAgICAgcGFzcyA9IG1zUGFzcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgcGFzcy5uYW1lID0gJ0ZvcndhcmRQYXNzJztcblxuICAgICAgICAgICAgdGhpcy5fYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyhwYXNzLCBjYW1lcmFDb25maWdzLCBpZCwgY2FtZXJhLFxuICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcCwgbWFpbkxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQocGFzcyAhPT0gdW5kZWZpbmVkKTtcblxuICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChBZGRpdGl2ZSBMaWdodHMpXG4gICAgICAgIHRoaXMuZm9yd2FyZExpZ2h0aW5nLmFkZExpZ2h0UXVldWVzKFxuICAgICAgICAgICAgcGFzcyxcbiAgICAgICAgICAgIGNhbWVyYSxcbiAgICAgICAgICAgIHBwbENvbmZpZ3MubW9iaWxlTWF4U3BvdExpZ2h0U2hhZG93TWFwcyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRm9yd2FyZE11bHRpcGxlUmFkaWFuY2VQYXNzZXMoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IFJlYWRvbmx5PENhbWVyYUNvbmZpZ3MgJiBGb3J3YXJkUGFzc0NvbmZpZ3M+LFxuICAgICAgICBpZDogbnVtYmVyLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICBhc3NlcnQoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlU2luZ2xlRm9yd2FyZFBhc3MpO1xuXG4gICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXG4gICAgICAgIGxldCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcbiAgICAgICAgcGFzcy5uYW1lID0gJ0ZvcndhcmRQYXNzJztcblxuICAgICAgICBjb25zdCBmaXJzdFN0b3JlT3AgPSB0aGlzLmZvcndhcmRMaWdodGluZy5pc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQoKVxuICAgICAgICAgICAgPyBTdG9yZU9wLlNUT1JFXG4gICAgICAgICAgICA6IGRlcHRoU3RlbmNpbFN0b3JlT3A7XG5cbiAgICAgICAgdGhpcy5fYnVpbGRGb3J3YXJkTWFpbkxpZ2h0UGFzcyhwYXNzLCBjYW1lcmFDb25maWdzLFxuICAgICAgICAgICAgaWQsIGNhbWVyYSwgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBmaXJzdFN0b3JlT3AsIG1haW5MaWdodCk7XG5cbiAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoQWRkaXRpdmUgTGlnaHRzKVxuICAgICAgICBwYXNzID0gdGhpcy5mb3J3YXJkTGlnaHRpbmdcbiAgICAgICAgICAgIC5hZGRMaWdodFBhc3Nlcyhjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIGRlcHRoU3RlbmNpbFN0b3JlT3AsXG4gICAgICAgICAgICAgICAgaWQsIHdpZHRoLCBoZWlnaHQsIGNhbWVyYSwgdGhpcy5fdmlld3BvcnQsIHBwbCwgcGFzcyk7XG5cbiAgICAgICAgcmV0dXJuIHBhc3M7XG4gICAgfVxuICAgIHByaXZhdGUgX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MoXG4gICAgICAgIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyLFxuICAgICAgICBjYW1lcmFDb25maWdzOiBSZWFkb25seTxDYW1lcmFDb25maWdzICYgRm9yd2FyZFBhc3NDb25maWdzPixcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxuICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wLFxuICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxuICAgICAgICBzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUgfCBudWxsID0gbnVsbCxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgUXVldWVIaW50ID0gcmVuZGVyaW5nLlF1ZXVlSGludDtcbiAgICAgICAgY29uc3QgU2NlbmVGbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzO1xuICAgICAgICAvLyBzZXQgdmlld3BvcnRcbiAgICAgICAgcGFzcy5zZXRWaWV3cG9ydCh0aGlzLl92aWV3cG9ydCk7XG5cbiAgICAgICAgY29uc3QgY29sb3JTdG9yZU9wID0gY2FtZXJhQ29uZmlncy5lbmFibGVNU0FBID8gU3RvcmVPcC5ESVNDQVJEIDogU3RvcmVPcC5TVE9SRTtcblxuICAgICAgICAvLyBiaW5kIG91dHB1dCByZW5kZXIgdGFyZ2V0XG4gICAgICAgIGlmIChmb3J3YXJkTmVlZENsZWFyQ29sb3IoY2FtZXJhKSkge1xuICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIGNvbG9yU3RvcmVPcCwgdGhpcy5fY2xlYXJDb2xvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5MT0FELCBjb2xvclN0b3JlT3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluZCBkZXB0aCBzdGVuY2lsIGJ1ZmZlclxuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGlmIChjb2xvck5hbWUgPT09IGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lICYmXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSAhPT0gY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lKSB7XG4gICAgICAgICAgICAgICAgd2FybignRGVmYXVsdCBmcmFtZWJ1ZmZlciBjYW5ub3QgdXNlIGN1c3RvbSBkZXB0aCBzdGVuY2lsIGJ1ZmZlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCkge1xuICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSxcbiAgICAgICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcCxcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJEZXB0aCxcbiAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJTdGVuY2lsLFxuICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChkZXB0aFN0ZW5jaWxOYW1lLCBMb2FkT3AuTE9BRCwgZGVwdGhTdGVuY2lsU3RvcmVPcCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgc2hhZG93IG1hcCBpZiBlbmFibGVkXG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFNoYWRvd01hcCkge1xuICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTaGFkb3dNYXAke2lkfWAsICdjY19zaGFkb3dNYXAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IFNlcGFyYXRlIE9QQVFVRSBhbmQgTUFTSyBxdWV1ZVxuXG4gICAgICAgIC8vIGFkZCBvcGFxdWUgYW5kIG1hc2sgcXVldWVcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuTk9ORSkgLy8gQ3VycmVudGx5IHdlIHB1dCBPUEFRVUUgYW5kIE1BU0sgaW50byBvbmUgcXVldWUsIHNvIFF1ZXVlSGludCBpcyBOT05FXG4gICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLFxuICAgICAgICAgICAgICAgIFNjZW5lRmxhZ3MuT1BBUVVFIHwgU2NlbmVGbGFncy5NQVNLLFxuICAgICAgICAgICAgICAgIG1haW5MaWdodCB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2NlbmUgPyBzY2VuZSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHByaXZhdGUgX2FkZFBsYW5hclNoYWRvd1F1ZXVlKFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcbiAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XG4gICAgICAgIGNvbnN0IFNjZW5lRmxhZ3MgPSByZW5kZXJpbmcuU2NlbmVGbGFncztcbiAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQsICdwbGFuYXItc2hhZG93JylcbiAgICAgICAgICAgIC5hZGRTY2VuZShcbiAgICAgICAgICAgICAgICBjYW1lcmEsXG4gICAgICAgICAgICAgICAgU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSIHwgU2NlbmVGbGFncy5QTEFOQVJfU0hBRE9XIHwgU2NlbmVGbGFncy5CTEVORCxcbiAgICAgICAgICAgICAgICBtYWluTGlnaHQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgcHJpdmF0ZSByZWFkb25seSBmb3J3YXJkTGlnaHRpbmcgPSBuZXcgRm9yd2FyZExpZ2h0aW5nKCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfdmlld3BvcnQgPSBuZXcgVmlld3BvcnQoKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jbGVhckNvbG9yID0gbmV3IENvbG9yKDAsIDAsIDAsIDEpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX3JlZmxlY3Rpb25Qcm9iZUNsZWFyQ29sb3IgPSBuZXcgVmVjMygwLCAwLCAwKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbG9vbVBhc3NDb25maWdzIHtcbiAgICBlbmFibGVCbG9vbTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5CbG9vbVBhc3NCdWlsZGVyIGltcGxlbWVudHMgcmVuZGVyaW5nLlBpcGVsaW5lUGFzc0J1aWxkZXIge1xuICAgIGdldENvbmZpZ09yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXRSZW5kZXJPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMjAwO1xuICAgIH1cbiAgICBjb25maWdDYW1lcmEoXG4gICAgICAgIGNhbWVyYTogUmVhZG9ubHk8cmVuZGVyZXIuc2NlbmUuQ2FtZXJhPixcbiAgICAgICAgcGlwZWxpbmVDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgQmxvb21QYXNzQ29uZmlncyk6IHZvaWQge1xuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZUJsb29tXG4gICAgICAgICAgICA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuYmxvb20uZW5hYmxlZFxuICAgICAgICAgICAgJiYgISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmJsb29tLm1hdGVyaWFsO1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSkge1xuICAgICAgICAgICAgKytjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3dSZXNpemUoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBCbG9vbVBhc3NDb25maWdzLFxuICAgICAgICB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyk6IHZvaWQge1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cucmVuZGVyV2luZG93SWQ7XG4gICAgICAgICAgICBsZXQgYmxvb21XaWR0aCA9IGNhbWVyYUNvbmZpZ3Mud2lkdGg7XG4gICAgICAgICAgICBsZXQgYmxvb21IZWlnaHQgPSBjYW1lcmFDb25maWdzLmhlaWdodDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjYW1lcmFDb25maWdzLnNldHRpbmdzLmJsb29tLml0ZXJhdGlvbnMgKyAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBibG9vbVdpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcihibG9vbVdpZHRoIC8gMiksIDEpO1xuICAgICAgICAgICAgICAgIGJsb29tSGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihibG9vbUhlaWdodCAvIDIpLCAxKTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBCbG9vbVRleCR7aWR9XyR7aX1gLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCBibG9vbVdpZHRoLCBibG9vbUhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEJsb29tUGFzc0NvbmZpZ3MsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXG4gICAgICAgIHByZXZSZW5kZXJQYXNzPzogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIpXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcbiAgICAgICAgY29uc3QgaWQgPSBjYW1lcmEud2luZG93LnJlbmRlcldpbmRvd0lkO1xuICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmJsb29tLm1hdGVyaWFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyhcbiAgICAgICAgICAgIHBwbCwgcHBsQ29uZmlncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIFJlYWRvbmx5PEJsb29tUGFzc0NvbmZpZ3M+LFxuICAgICAgICBzZXR0aW5nczogUGlwZWxpbmVTZXR0aW5ncyxcbiAgICAgICAgYmxvb21NYXRlcmlhbDogTWF0ZXJpYWwsXG4gICAgICAgIGlkOiBudW1iZXIsXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICByYWRpYW5jZU5hbWU6IHN0cmluZyxcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIGNvbnN0IFF1ZXVlSGludCA9IHJlbmRlcmluZy5RdWV1ZUhpbnQ7XG4gICAgICAgIC8vIEJhc2VkIG9uIEthd2FzZSBEdWFsIEZpbHRlciBCbHVyLiBTYXZlcyBiYW5kd2lkdGggb24gbW9iaWxlIGRldmljZXMuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIC8vIGh0dHBzOi8vY29tbXVuaXR5LmFybS5jb20vY2ZzLWZpbGUvX19rZXkvY29tbXVuaXR5c2VydmVyLWJsb2dzLWNvbXBvbmVudHMtd2VibG9nZmlsZXMvMDAtMDAtMDAtMjAtNjYvc2lnZ3JhcGgyMDE1XzJEMDBfbW1nXzJEMDBfbWFyaXVzXzJEMDBfc2xpZGVzLnBkZlxuXG4gICAgICAgIC8vIFNpemU6IFtwcmVmaWx0ZXIoMS8yKSwgZG93bnNhbXBsZSgxLzQpLCBkb3duc2FtcGxlKDEvOCksIGRvd25zYW1wbGUoMS8xNiksIC4uLl1cbiAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IHNldHRpbmdzLmJsb29tLml0ZXJhdGlvbnM7XG4gICAgICAgIGNvbnN0IHNpemVDb3VudCA9IGl0ZXJhdGlvbnMgKyAxO1xuICAgICAgICB0aGlzLl9ibG9vbVdpZHRocy5sZW5ndGggPSBzaXplQ291bnQ7XG4gICAgICAgIHRoaXMuX2Jsb29tSGVpZ2h0cy5sZW5ndGggPSBzaXplQ291bnQ7XG4gICAgICAgIHRoaXMuX2Jsb29tV2lkdGhzWzBdID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aWR0aCAvIDIpLCAxKTtcbiAgICAgICAgdGhpcy5fYmxvb21IZWlnaHRzWzBdID0gTWF0aC5tYXgoTWF0aC5mbG9vcihoZWlnaHQgLyAyKSwgMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpICE9PSBzaXplQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5fYmxvb21XaWR0aHNbaV0gPSBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuX2Jsb29tV2lkdGhzW2kgLSAxXSAvIDIpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tSGVpZ2h0c1tpXSA9IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fYmxvb21IZWlnaHRzW2kgLSAxXSAvIDIpLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJsb29tIHRleHR1cmUgbmFtZXNcbiAgICAgICAgdGhpcy5fYmxvb21UZXhOYW1lcy5sZW5ndGggPSBzaXplQ291bnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaXplQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhOYW1lc1tpXSA9IGBCbG9vbVRleCR7aWR9XyR7aX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgYmxvb20gcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy54ID0gcHBsQ29uZmlncy51c2VGbG9hdE91dHB1dCA/IDEgOiAwO1xuICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy54ID0gMDsgLy8gdW51c2VkXG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnogPSBzZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQ7XG4gICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLncgPSBzZXR0aW5ncy5ibG9vbS5lbmFibGVBbHBoYU1hc2sgPyAxIDogMDtcblxuICAgICAgICAvLyBQcmVmaWx0ZXIgcGFzc1xuICAgICAgICBjb25zdCBwcmVmaWx0ZXJQYXNzID0gcHBsLmFkZFJlbmRlclBhc3ModGhpcy5fYmxvb21XaWR0aHNbMF0sIHRoaXMuX2Jsb29tSGVpZ2h0c1swXSwgJ2NjLWJsb29tLXByZWZpbHRlcicpO1xuICAgICAgICBwcmVmaWx0ZXJQYXNzLmFkZFJlbmRlclRhcmdldChcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXNbMF0sXG4gICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXG4gICAgICAgICAgICBTdG9yZU9wLlNUT1JFLFxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2ssXG4gICAgICAgICk7XG4gICAgICAgIHByZWZpbHRlclBhc3MuYWRkVGV4dHVyZShyYWRpYW5jZU5hbWUsICdpbnB1dFRleHR1cmUnKTtcbiAgICAgICAgcHJlZmlsdGVyUGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgcHBsQ29uZmlncy5wbGF0Zm9ybSk7XG4gICAgICAgIHByZWZpbHRlclBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XG4gICAgICAgIHByZWZpbHRlclBhc3NcbiAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGJsb29tTWF0ZXJpYWwsIDApO1xuXG4gICAgICAgIC8vIERvd25zYW1wbGUgcGFzc2VzXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpICE9PSBzaXplQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZG93blBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tZG93bnNhbXBsZScpO1xuICAgICAgICAgICAgZG93blBhc3MuYWRkUmVuZGVyVGFyZ2V0KHRoaXMuX2Jsb29tVGV4TmFtZXNbaV0sIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICAgICAgZG93blBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzW2kgLSAxXSwgJ2Jsb29tVGV4dHVyZScpO1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpIC0gMV07XG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpIC0gMV07XG4gICAgICAgICAgICBkb3duUGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgcHBsQ29uZmlncy5wbGF0Zm9ybSk7XG4gICAgICAgICAgICBkb3duUGFzcy5zZXRWZWM0KCdibG9vbVRleFNpemUnLCB0aGlzLl9ibG9vbVRleFNpemUpO1xuICAgICAgICAgICAgZG93blBhc3NcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcHNhbXBsZSBwYXNzZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGl0ZXJhdGlvbnM7IGktLSA+IDA7KSB7XG4gICAgICAgICAgICBjb25zdCB1cFBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tdXBzYW1wbGUnKTtcbiAgICAgICAgICAgIHVwUGFzcy5hZGRSZW5kZXJUYXJnZXQodGhpcy5fYmxvb21UZXhOYW1lc1tpXSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XG4gICAgICAgICAgICB1cFBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzW2kgKyAxXSwgJ2Jsb29tVGV4dHVyZScpO1xuICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpICsgMV07XG4gICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpICsgMV07XG4gICAgICAgICAgICB1cFBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHBwbENvbmZpZ3MucGxhdGZvcm0pO1xuICAgICAgICAgICAgdXBQYXNzLnNldFZlYzQoJ2Jsb29tVGV4U2l6ZScsIHRoaXMuX2Jsb29tVGV4U2l6ZSk7XG4gICAgICAgICAgICB1cFBhc3NcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21iaW5lIHBhc3NcbiAgICAgICAgY29uc3QgY29tYmluZVBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtYmxvb20tY29tYmluZScpO1xuICAgICAgICBjb21iaW5lUGFzcy5hZGRSZW5kZXJUYXJnZXQocmFkaWFuY2VOYW1lLCBMb2FkT3AuTE9BRCwgU3RvcmVPcC5TVE9SRSk7XG4gICAgICAgIGNvbWJpbmVQYXNzLmFkZFRleHR1cmUodGhpcy5fYmxvb21UZXhOYW1lc1swXSwgJ2Jsb29tVGV4dHVyZScpO1xuICAgICAgICBjb21iaW5lUGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgcHBsQ29uZmlncy5wbGF0Zm9ybSk7XG4gICAgICAgIGNvbWJpbmVQYXNzLnNldFZlYzQoJ2Jsb29tUGFyYW1zJywgdGhpcy5fYmxvb21QYXJhbXMpO1xuICAgICAgICBjb21iaW5lUGFzc1xuICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORClcbiAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChibG9vbU1hdGVyaWFsLCAzKTtcblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRDb3B5VG9TY3JlZW5QYXNzKHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncywgcmFkaWFuY2VOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5lUGFzcztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBCbG9vbVxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrID0gbmV3IENvbG9yKDAsIDAsIDAsIDApO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tUGFyYW1zID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21UZXhTaXplID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21XaWR0aHM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ibG9vbUhlaWdodHM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9ibG9vbVRleE5hbWVzOiBBcnJheTxzdHJpbmc+ID0gW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyB7XG4gICAgZW5hYmxlVG9uZU1hcHBpbmc6IGJvb2xlYW47XG4gICAgZW5hYmxlQ29sb3JHcmFkaW5nOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbHRpblRvbmVNYXBwaW5nUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAzMDA7XG4gICAgfVxuICAgIGNvbmZpZ0NhbWVyYShcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyk6IHZvaWQge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XG5cbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVDb2xvckdyYWRpbmdcbiAgICAgICAgICAgID0gc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWRcbiAgICAgICAgICAgICYmICEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsXG4gICAgICAgICAgICAmJiAhIXNldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXA7XG5cbiAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVUb25lTWFwcGluZ1xuICAgICAgICAgICAgPSBjYW1lcmFDb25maWdzLmVuYWJsZUhEUiAvLyBGcm9tIEhhbGYgdG8gUkdCQThcbiAgICAgICAgICAgIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nOyAvLyBDb2xvciBncmFkaW5nXG5cbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlVG9uZU1hcHBpbmcpIHtcbiAgICAgICAgICAgICsrY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2luZG93UmVzaXplKFxuICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgVG9uZU1hcHBpbmdQYXNzQ29uZmlncyk6IHZvaWQge1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVDb2xvckdyYWRpbmcpIHtcbiAgICAgICAgICAgIGFzc2VydCghIWNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsKTtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsLnNldFByb3BlcnR5KFxuICAgICAgICAgICAgICAgICdjb2xvckdyYWRpbmdNYXAnLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXAoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBUb25lTWFwcGluZ1Bhc3NDb25maWdzLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgY29udGV4dDogUGlwZWxpbmVDb250ZXh0LFxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxuICAgICAgICA6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFjYW1lcmFDb25maWdzLmVuYWJsZVRvbmVNYXBwaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldlJlbmRlclBhc3M7XG4gICAgICAgIH1cblxuICAgICAgICAtLWNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xuICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPj0gMCk7XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvcHlBbmRUb25lbWFwUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCwgY2FtZXJhQ29uZmlncy5uYXRpdmVIZWlnaHQsXG4gICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gY2FtZXJhQ29uZmlncy5yZW5kZXJXaW5kb3dJZDtcbiAgICAgICAgICAgIGNvbnN0IGxkckNvbG9yUHJlZml4ID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICAgICA/IGBTY2FsZWRMZHJDb2xvcmBcbiAgICAgICAgICAgICAgICA6IGBMZHJDb2xvcmA7XG5cbiAgICAgICAgICAgIGNvbnN0IGxkckNvbG9yTmFtZSA9IGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KGNvbnRleHQuY29sb3JOYW1lLCBsZHJDb2xvclByZWZpeCwgaWQpO1xuICAgICAgICAgICAgY29uc3QgcmFkaWFuY2VOYW1lID0gY29udGV4dC5jb2xvck5hbWU7XG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGxkckNvbG9yTmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENvcHlBbmRUb25lbWFwUGFzcyhwcGwsIHBwbENvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MsXG4gICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy53aWR0aCwgY2FtZXJhQ29uZmlncy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgcmFkaWFuY2VOYW1lLCBsZHJDb2xvck5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2FkZENvcHlBbmRUb25lbWFwUGFzcyhcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIFRvbmVNYXBwaW5nUGFzc0NvbmZpZ3MsXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICByYWRpYW5jZU5hbWU6IHN0cmluZyxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICBsZXQgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXI7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncztcbiAgICAgICAgaWYgKGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nKSB7XG4gICAgICAgICAgICBhc3NlcnQoISFzZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwpO1xuICAgICAgICAgICAgYXNzZXJ0KCEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGx1dFRleCA9IHNldHRpbmdzLmNvbG9yR3JhZGluZy5jb2xvckdyYWRpbmdNYXA7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplLnggPSBsdXRUZXgud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplLnkgPSBsdXRUZXguaGVpZ2h0O1xuXG4gICAgICAgICAgICBjb25zdCBpc1NxdWFyZU1hcCA9IGx1dFRleC53aWR0aCA9PT0gbHV0VGV4LmhlaWdodDtcbiAgICAgICAgICAgIGlmIChpc1NxdWFyZU1hcCkge1xuICAgICAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtY29sb3ItZ3JhZGluZy04eDgnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1jb2xvci1ncmFkaW5nLW54MScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUocmFkaWFuY2VOYW1lLCAnc2NlbmVDb2xvck1hcCcpO1xuICAgICAgICAgICAgcGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgcHBsQ29uZmlncy5wbGF0Zm9ybSk7XG4gICAgICAgICAgICBwYXNzLnNldFZlYzIoJ2x1dFRleHR1cmVTaXplJywgdGhpcy5fY29sb3JHcmFkaW5nVGV4U2l6ZSk7XG4gICAgICAgICAgICBwYXNzLnNldEZsb2F0KCdjb250cmlidXRlJywgc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbnRyaWJ1dGUpO1xuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsLCBpc1NxdWFyZU1hcCA/IDEgOiAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtdG9uZS1tYXBwaW5nJyk7XG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShyYWRpYW5jZU5hbWUsICdpbnB1dFRleHR1cmUnKTtcbiAgICAgICAgICAgIHBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHBwbENvbmZpZ3MucGxhdGZvcm0pO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKHNldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsLCAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKHJlbmRlcmluZy5RdWV1ZUhpbnQuT1BBUVVFKVxuICAgICAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoY2FtZXJhQ29uZmlncy5jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFzcztcbiAgICB9XG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29sb3JHcmFkaW5nVGV4U2l6ZSA9IG5ldyBWZWMyKDAsIDApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZYQUFQYXNzQ29uZmlncyB7XG4gICAgZW5hYmxlRlhBQTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5GWEFBUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiA0MDA7XG4gICAgfVxuICAgIGNvbmZpZ0NhbWVyYShcbiAgICAgICAgY2FtZXJhOiBSZWFkb25seTxyZW5kZXJlci5zY2VuZS5DYW1lcmE+LFxuICAgICAgICBwcGxDb25maWdzOiBSZWFkb25seTxQaXBlbGluZUNvbmZpZ3M+LFxuICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzICYgRlhBQVBhc3NDb25maWdzKTogdm9pZCB7XG4gICAgICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQVxuICAgICAgICAgICAgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEuZW5hYmxlZFxuICAgICAgICAgICAgJiYgISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEubWF0ZXJpYWw7XG4gICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZUZYQUEpIHtcbiAgICAgICAgICAgICsrY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXAoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGWEFBUGFzc0NvbmZpZ3MsXG4gICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICBjb250ZXh0OiBQaXBlbGluZUNvbnRleHQsXG4gICAgICAgIHByZXZSZW5kZXJQYXNzPzogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIpXG4gICAgICAgIDogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIWNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQSkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZSZW5kZXJQYXNzO1xuICAgICAgICB9XG4gICAgICAgIC0tY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIGFzc2VydChjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA+PSAwKTtcblxuICAgICAgICBjb25zdCBpZCA9IGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQ7XG4gICAgICAgIGNvbnN0IGxkckNvbG9yUHJlZml4ID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgID8gYFNjYWxlZExkckNvbG9yYFxuICAgICAgICAgICAgOiBgTGRyQ29sb3JgO1xuICAgICAgICBjb25zdCBsZHJDb2xvck5hbWUgPSBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChjb250ZXh0LmNvbG9yTmFtZSwgbGRyQ29sb3JQcmVmaXgsIGlkKTtcblxuICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZ4YWEubWF0ZXJpYWwpO1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZ4YWFQYXNzKHBwbCwgcHBsQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxkckNvbG9yTmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZENvcHlUb1NjcmVlblBhc3MocHBsLCBwcGxDb25maWdzLCBjYW1lcmFDb25maWdzLCBsZHJDb2xvck5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQoY2FtZXJhQ29uZmlncy53aWR0aCA9PT0gY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGNhbWVyYUNvbmZpZ3MuaGVpZ2h0ID09PSBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEZ4YWFQYXNzKHBwbCwgcHBsQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5meGFhLm1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29sb3JOYW1lID0gY29udGV4dC5jb2xvck5hbWU7XG4gICAgICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IGxkckNvbG9yTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQYXNzID0gdGhpcy5fYWRkRnhhYVBhc3MocHBsLCBwcGxDb25maWdzLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCxcbiAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGlucHV0Q29sb3JOYW1lLFxuICAgICAgICAgICAgICAgIGxkckNvbG9yTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbGFzdFBhc3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBfYWRkRnhhYVBhc3MoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGZ4YWFNYXRlcmlhbDogTWF0ZXJpYWwsXG4gICAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgICBsZHJDb2xvck5hbWU6IHN0cmluZyxcbiAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXG4gICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnhhYVBhcmFtcy55ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnogPSAxIC8gd2lkdGg7XG4gICAgICAgIHRoaXMuX2Z4YWFQYXJhbXMudyA9IDEgLyBoZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1meGFhJyk7XG4gICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBzQ2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xuICAgICAgICBwYXNzLmFkZFRleHR1cmUobGRyQ29sb3JOYW1lLCAnc2NlbmVDb2xvck1hcCcpO1xuICAgICAgICBwYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCBwcGxDb25maWdzLnBsYXRmb3JtKTtcbiAgICAgICAgcGFzcy5zZXRWZWM0KCd0ZXhTaXplJywgdGhpcy5fZnhhYVBhcmFtcyk7XG4gICAgICAgIHBhc3MuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXG4gICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnhhYU1hdGVyaWFsLCAwKTtcbiAgICAgICAgcmV0dXJuIHBhc3M7XG4gICAgfVxuICAgIC8vIEZYQUFcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9meGFhUGFyYW1zID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRlNSUGFzc0NvbmZpZ3Mge1xuICAgIGVuYWJsZUZTUjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5Gc3JQYXNzQnVpbGRlciBpbXBsZW1lbnRzIHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyIHtcbiAgICBnZXRDb25maWdPcmRlcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZ2V0UmVuZGVyT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDUwMDtcbiAgICB9XG4gICAgY29uZmlnQ2FtZXJhKFxuICAgICAgICBjYW1lcmE6IFJlYWRvbmx5PHJlbmRlcmVyLnNjZW5lLkNhbWVyYT4sXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyk6IHZvaWQge1xuICAgICAgICAvLyBGU1IgKERlcGVuZCBvbiBTaGFkaW5nIHNjYWxlKVxuICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZUZTUiA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLmVuYWJsZWRcbiAgICAgICAgICAgICYmICEhY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5mc3IubWF0ZXJpYWxcbiAgICAgICAgICAgICYmIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICAmJiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSA8IDEuMDtcblxuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVGU1IpIHtcbiAgICAgICAgICAgICsrY2FtZXJhQ29uZmlncy5yZW1haW5pbmdQYXNzZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXAoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyxcbiAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgIGNvbnRleHQ6IFBpcGVsaW5lQ29udGV4dCxcbiAgICAgICAgcHJldlJlbmRlclBhc3M/OiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcilcbiAgICAgICAgOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghY2FtZXJhQ29uZmlncy5lbmFibGVGU1IpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2UmVuZGVyUGFzcztcbiAgICAgICAgfVxuICAgICAgICAtLWNhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzO1xuXG4gICAgICAgIGNvbnN0IGlucHV0Q29sb3JOYW1lID0gY29udGV4dC5jb2xvck5hbWU7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbG9yTmFtZVxuICAgICAgICAgICAgPSBjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA9PT0gMFxuICAgICAgICAgICAgICAgID8gY2FtZXJhQ29uZmlncy5jb2xvck5hbWVcbiAgICAgICAgICAgICAgICA6IGdldFBpbmdQb25nUmVuZGVyVGFyZ2V0KGNvbnRleHQuY29sb3JOYW1lLCAnVWlDb2xvcicsIGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQpO1xuICAgICAgICBjb250ZXh0LmNvbG9yTmFtZSA9IG91dHB1dENvbG9yTmFtZTtcblxuICAgICAgICBhc3NlcnQoISFjYW1lcmFDb25maWdzLnNldHRpbmdzLmZzci5tYXRlcmlhbCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRGc3JQYXNzKHBwbCwgcHBsQ29uZmlncywgY2FtZXJhQ29uZmlncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzLmZzci5tYXRlcmlhbCxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MucmVuZGVyV2luZG93SWQsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5oZWlnaHQsXG4gICAgICAgICAgICBpbnB1dENvbG9yTmFtZSxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MubmF0aXZlV2lkdGgsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodCxcbiAgICAgICAgICAgIG91dHB1dENvbG9yTmFtZSk7XG4gICAgfVxuICAgIHByaXZhdGUgX2FkZEZzclBhc3MoXG4gICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXG4gICAgICAgIHBwbENvbmZpZ3M6IFJlYWRvbmx5PFBpcGVsaW5lQ29uZmlncz4sXG4gICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MgJiBGU1JQYXNzQ29uZmlncyxcbiAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXG4gICAgICAgIGZzck1hdGVyaWFsOiBNYXRlcmlhbCxcbiAgICAgICAgaWQ6IG51bWJlcixcbiAgICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICAgIGlucHV0Q29sb3JOYW1lOiBzdHJpbmcsXG4gICAgICAgIG5hdGl2ZVdpZHRoOiBudW1iZXIsXG4gICAgICAgIG5hdGl2ZUhlaWdodDogbnVtYmVyLFxuICAgICAgICBvdXRwdXRDb2xvck5hbWU6IHN0cmluZyxcbiAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XG4gICAgICAgIHRoaXMuX2ZzclRleFNpemUueCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mc3JUZXhTaXplLnkgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX2ZzclRleFNpemUueiA9IG5hdGl2ZVdpZHRoO1xuICAgICAgICB0aGlzLl9mc3JUZXhTaXplLncgPSBuYXRpdmVIZWlnaHQ7XG4gICAgICAgIHRoaXMuX2ZzclBhcmFtcy54ID0gY2xhbXAoMS4wIC0gc2V0dGluZ3MuZnNyLnNoYXJwbmVzcywgMC4wMiwgMC45OCk7XG5cbiAgICAgICAgY29uc3QgdWlDb2xvclByZWZpeCA9ICdVaUNvbG9yJztcblxuICAgICAgICBjb25zdCBmc3JDb2xvck5hbWUgPSBnZXRQaW5nUG9uZ1JlbmRlclRhcmdldChvdXRwdXRDb2xvck5hbWUsIHVpQ29sb3JQcmVmaXgsIGlkKTtcblxuICAgICAgICBjb25zdCBlYXN1UGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKG5hdGl2ZVdpZHRoLCBuYXRpdmVIZWlnaHQsICdjYy1mc3ItZWFzdScpO1xuICAgICAgICBlYXN1UGFzcy5hZGRSZW5kZXJUYXJnZXQoZnNyQ29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHNDbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XG4gICAgICAgIGVhc3VQYXNzLmFkZFRleHR1cmUoaW5wdXRDb2xvck5hbWUsICdvdXRwdXRSZXN1bHRNYXAnKTtcbiAgICAgICAgZWFzdVBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHBwbENvbmZpZ3MucGxhdGZvcm0pO1xuICAgICAgICBlYXN1UGFzcy5zZXRWZWM0KCdmc3JUZXhTaXplJywgdGhpcy5fZnNyVGV4U2l6ZSk7XG4gICAgICAgIGVhc3VQYXNzXG4gICAgICAgICAgICAuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXG4gICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnNyTWF0ZXJpYWwsIDApO1xuXG4gICAgICAgIGNvbnN0IHJjYXNQYXNzID0gcHBsLmFkZFJlbmRlclBhc3MobmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgJ2NjLWZzci1yY2FzJyk7XG4gICAgICAgIHJjYXNQYXNzLmFkZFJlbmRlclRhcmdldChvdXRwdXRDb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgc0NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcbiAgICAgICAgcmNhc1Bhc3MuYWRkVGV4dHVyZShmc3JDb2xvck5hbWUsICdvdXRwdXRSZXN1bHRNYXAnKTtcbiAgICAgICAgcmNhc1Bhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHBwbENvbmZpZ3MucGxhdGZvcm0pO1xuICAgICAgICByY2FzUGFzcy5zZXRWZWM0KCdmc3JUZXhTaXplJywgdGhpcy5fZnNyVGV4U2l6ZSk7XG4gICAgICAgIHJjYXNQYXNzLnNldFZlYzQoJ2ZzclBhcmFtcycsIHRoaXMuX2ZzclBhcmFtcyk7XG4gICAgICAgIHJjYXNQYXNzXG4gICAgICAgICAgICAuYWRkUXVldWUocmVuZGVyaW5nLlF1ZXVlSGludC5PUEFRVUUpXG4gICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnNyTWF0ZXJpYWwsIDEpO1xuXG4gICAgICAgIHJldHVybiByY2FzUGFzcztcbiAgICB9XG4gICAgLy8gRlNSXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZnNyUGFyYW1zID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZnNyVGV4U2l6ZSA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xufVxuXG5leHBvcnQgY2xhc3MgQnVpbHRpblVpUGFzc0J1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlciB7XG4gICAgZ2V0Q29uZmlnT3JkZXIoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldFJlbmRlck9yZGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxMDAwO1xuICAgIH1cbiAgICBzZXR1cChcbiAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgcHBsQ29uZmlnczogUmVhZG9ubHk8UGlwZWxpbmVDb25maWdzPixcbiAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncyAmIEZTUlBhc3NDb25maWdzLFxuICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcbiAgICAgICAgY29udGV4dDogUGlwZWxpbmVDb250ZXh0LFxuICAgICAgICBwcmV2UmVuZGVyUGFzcz86IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKVxuICAgICAgICA6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgYXNzZXJ0KCEhcHJldlJlbmRlclBhc3MpO1xuXG4gICAgICAgIGxldCBmbGFncyA9IHJlbmRlcmluZy5TY2VuZUZsYWdzLlVJO1xuICAgICAgICBpZiAoY2FtZXJhQ29uZmlncy5lbmFibGVQcm9maWxlcikge1xuICAgICAgICAgICAgZmxhZ3MgfD0gcmVuZGVyaW5nLlNjZW5lRmxhZ3MuUFJPRklMRVI7XG4gICAgICAgICAgICBwcmV2UmVuZGVyUGFzcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlJlbmRlclBhc3NcbiAgICAgICAgICAgIC5hZGRRdWV1ZShyZW5kZXJpbmcuUXVldWVIaW50LkJMRU5ELCAnZGVmYXVsdCcsICdkZWZhdWx0JylcbiAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIGZsYWdzKTtcblxuICAgICAgICByZXR1cm4gcHJldlJlbmRlclBhc3M7XG4gICAgfVxufVxuXG5pZiAocmVuZGVyaW5nKSB7XG5cbiAgICBjb25zdCB7IFF1ZXVlSGludCwgU2NlbmVGbGFncyB9ID0gcmVuZGVyaW5nO1xuXG4gICAgY2xhc3MgQnVpbHRpblBpcGVsaW5lQnVpbGRlciBpbXBsZW1lbnRzIHJlbmRlcmluZy5QaXBlbGluZUJ1aWxkZXIge1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9waXBlbGluZUV2ZW50OiBQaXBlbGluZUV2ZW50UHJvY2Vzc29yID0gY2NsZWdhY3kuZGlyZWN0b3Iucm9vdC5waXBlbGluZUV2ZW50IGFzIFBpcGVsaW5lRXZlbnRQcm9jZXNzb3I7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZvcndhcmRQYXNzID0gbmV3IEJ1aWx0aW5Gb3J3YXJkUGFzc0J1aWxkZXIoKTtcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21QYXNzID0gbmV3IEJ1aWx0aW5CbG9vbVBhc3NCdWlsZGVyKCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3RvbmVNYXBwaW5nUGFzcyA9IG5ldyBCdWlsdGluVG9uZU1hcHBpbmdQYXNzQnVpbGRlcigpO1xuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9meGFhUGFzcyA9IG5ldyBCdWlsdGluRlhBQVBhc3NCdWlsZGVyKCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZzclBhc3MgPSBuZXcgQnVpbHRpbkZzclBhc3NCdWlsZGVyKCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3VpUGFzcyA9IG5ldyBCdWlsdGluVWlQYXNzQnVpbGRlcigpO1xuICAgICAgICAvLyBJbnRlcm5hbCBjYWNoZWQgcmVzb3VyY2VzXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMSk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3ZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbmZpZ3MgPSBuZXcgUGlwZWxpbmVDb25maWdzKCk7XG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2NhbWVyYUNvbmZpZ3MgPSBuZXcgQ2FtZXJhQ29uZmlncygpO1xuICAgICAgICAvLyBNYXRlcmlhbHNcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfY29weUFuZFRvbmVtYXBNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpO1xuXG4gICAgICAgIC8vIEludGVybmFsIFN0YXRlc1xuICAgICAgICBwcml2YXRlIF9pbml0aWFsaXplZCA9IGZhbHNlOyAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBNYWtlIGRlZmF1bHQgZWZmZWN0IGFzc2V0IGxvYWRpbmcgZWFybGllciBhbmQgcmVtb3ZlIHRoaXMgZmxhZ1xuICAgICAgICBwcml2YXRlIF9wYXNzQnVpbGRlcnM6IHJlbmRlcmluZy5QaXBlbGluZVBhc3NCdWlsZGVyW10gPSBbXTtcblxuICAgICAgICBwcml2YXRlIF9zZXR1cFBpcGVsaW5lUHJldmlldyhcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICAgICAgY2FtZXJhQ29uZmlnczogQ2FtZXJhQ29uZmlncykge1xuICAgICAgICAgICAgY29uc3QgaXNFZGl0b3JWaWV3OiBib29sZWFuXG4gICAgICAgICAgICAgICAgPSBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlNDRU5FX1ZJRVdcbiAgICAgICAgICAgICAgICB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlBSRVZJRVc7XG5cbiAgICAgICAgICAgIGlmIChpc0VkaXRvclZpZXcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3JTZXR0aW5ncyA9IHJlbmRlcmluZy5nZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKCkgYXMgUGlwZWxpbmVTZXR0aW5ncyB8IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MgPSBlZGl0b3JTZXR0aW5ncztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbWVyYS5waXBlbGluZVNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MgPSBjYW1lcmEucGlwZWxpbmVTZXR0aW5ncyBhcyBQaXBlbGluZVNldHRpbmdzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MgPSBkZWZhdWx0U2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfcHJlcGFyZVBpcGVsaW5lUGFzc2VzKGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3MpOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NCdWlsZGVycyA9IHRoaXMuX3Bhc3NCdWlsZGVycztcbiAgICAgICAgICAgIHBhc3NCdWlsZGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MgYXMgUGlwZWxpbmVTZXR0aW5nczI7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuX3Bhc3Nlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFzcyBvZiBzZXR0aW5ncy5fcGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHBhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3NlcnQocGFzc0J1aWxkZXJzLmxlbmd0aCA9PT0gc2V0dGluZ3MuX3Bhc3Nlcy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl9mb3J3YXJkUGFzcyk7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5ibG9vbS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fYmxvb21QYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fdG9uZU1hcHBpbmdQYXNzKTtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmZ4YWEuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHBhc3NCdWlsZGVycy5wdXNoKHRoaXMuX2Z4YWFQYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmZzci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcGFzc0J1aWxkZXJzLnB1c2godGhpcy5fZnNyUGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXNzQnVpbGRlcnMucHVzaCh0aGlzLl91aVBhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0dXBCdWlsdGluQ2FtZXJhQ29uZmlncyhcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICAgICAgcGlwZWxpbmVDb25maWdzOiBQaXBlbGluZUNvbmZpZ3MsXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgd2luZG93ID0gY2FtZXJhLndpbmRvdztcbiAgICAgICAgICAgIGNvbnN0IGlzTWFpbkdhbWVXaW5kb3c6IGJvb2xlYW4gPSBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLkdBTUUgJiYgISF3aW5kb3cuc3dhcGNoYWluO1xuXG4gICAgICAgICAgICAvLyBXaW5kb3dcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuaXNNYWluR2FtZVdpbmRvdyA9IGlzTWFpbkdhbWVXaW5kb3c7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnJlbmRlcldpbmRvd0lkID0gd2luZG93LnJlbmRlcldpbmRvd0lkO1xuXG4gICAgICAgICAgICAvLyBDYW1lcmFcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuY29sb3JOYW1lID0gd2luZG93LmNvbG9yTmFtZTtcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuZGVwdGhTdGVuY2lsTmFtZSA9IHdpbmRvdy5kZXB0aFN0ZW5jaWxOYW1lO1xuXG4gICAgICAgICAgICAvLyBQaXBlbGluZVxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVGdWxsUGlwZWxpbmUgPSAoY2FtZXJhLnZpc2liaWxpdHkgJiAoTGF5ZXJzLkVudW0uREVGQVVMVCkpICE9PSAwO1xuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5lbmFibGVQcm9maWxlciA9IERFQlVHICYmIGlzTWFpbkdhbWVXaW5kb3c7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnJlbWFpbmluZ1Bhc3NlcyA9IDA7XG5cbiAgICAgICAgICAgIC8vIFNoYWRpbmcgc2NhbGVcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5zaGFkaW5nU2NhbGU7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICAgICAgJiYgY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUgIT09IDEuMDtcblxuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3Iod2luZG93LndpZHRoKSwgMSk7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLm5hdGl2ZUhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3Iod2luZG93LmhlaWdodCksIDEpO1xuXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLndpZHRoID0gY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhQ29uZmlncy5uYXRpdmVXaWR0aCAqIGNhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlKSwgMSlcbiAgICAgICAgICAgICAgICA6IGNhbWVyYUNvbmZpZ3MubmF0aXZlV2lkdGg7XG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmhlaWdodCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heChNYXRoLmZsb29yKGNhbWVyYUNvbmZpZ3MubmF0aXZlSGVpZ2h0ICogY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxuICAgICAgICAgICAgICAgIDogY2FtZXJhQ29uZmlncy5uYXRpdmVIZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIFJhZGlhbmNlXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZUhEUiA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlRnVsbFBpcGVsaW5lXG4gICAgICAgICAgICAgICAgJiYgcGlwZWxpbmVDb25maWdzLnVzZUZsb2F0T3V0cHV0O1xuICAgICAgICAgICAgY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCA9IGNhbWVyYUNvbmZpZ3MuZW5hYmxlSERSXG4gICAgICAgICAgICAgICAgPyBnZnguRm9ybWF0LlJHQkExNkYgOiBnZnguRm9ybWF0LlJHQkE4O1xuXG4gICAgICAgICAgICAvLyBUb25lIE1hcHBpbmdcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3MuY29weUFuZFRvbmVtYXBNYXRlcmlhbCA9IHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWw7XG5cbiAgICAgICAgICAgIC8vIERlcHRoXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLmVuYWJsZVN0b3JlU2NlbmVEZXB0aCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBfc2V0dXBDYW1lcmFDb25maWdzKFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICAgICBwaXBlbGluZUNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcbiAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3M6IENhbWVyYUNvbmZpZ3NcbiAgICAgICAgKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFBpcGVsaW5lUHJldmlldyhjYW1lcmEsIGNhbWVyYUNvbmZpZ3MpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcmVwYXJlUGlwZWxpbmVQYXNzZXMoY2FtZXJhQ29uZmlncyk7XG5cbiAgICAgICAgICAgIHNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5Q29uZmlnT3JkZXIodGhpcy5fcGFzc0J1aWxkZXJzKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dXBCdWlsdGluQ2FtZXJhQ29uZmlncyhjYW1lcmEsIHBpcGVsaW5lQ29uZmlncywgY2FtZXJhQ29uZmlncyk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgYnVpbGRlciBvZiB0aGlzLl9wYXNzQnVpbGRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRlci5jb25maWdDYW1lcmEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5jb25maWdDYW1lcmEoY2FtZXJhLCBwaXBlbGluZUNvbmZpZ3MsIGNhbWVyYUNvbmZpZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gSW50ZXJmYWNlXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgd2luZG93UmVzaXplKFxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgICAgIHdpbmRvdzogcmVuZGVyZXIuUmVuZGVyV2luZG93LFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxuICAgICAgICAgICAgbmF0aXZlSGVpZ2h0OiBudW1iZXIsXG4gICAgICAgICk6IHZvaWQge1xuICAgICAgICAgICAgc2V0dXBQaXBlbGluZUNvbmZpZ3MocHBsLCB0aGlzLl9jb25maWdzKTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dXBDYW1lcmFDb25maWdzKGNhbWVyYSwgdGhpcy5fY29uZmlncywgdGhpcy5fY2FtZXJhQ29uZmlncyk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciBXaW5kb3cgKFVJKVxuICAgICAgICAgICAgY29uc3QgaWQgPSB3aW5kb3cucmVuZGVyV2luZG93SWQ7XG5cbiAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJXaW5kb3codGhpcy5fY2FtZXJhQ29uZmlncy5jb2xvck5hbWUsXG4gICAgICAgICAgICAgICAgRm9ybWF0LlJHQkE4LCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCB3aW5kb3csXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lKTtcblxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jYW1lcmFDb25maWdzLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fY2FtZXJhQ29uZmlncy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xuICAgICAgICAgICAgICAgIHBwbC5hZGREZXB0aFN0ZW5jaWwoYFNjYWxlZFNjZW5lRGVwdGhfJHtpZH1gLCBGb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkUmFkaWFuY2UwXyR7aWR9YCwgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkUmFkaWFuY2UxXyR7aWR9YCwgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkTGRyQ29sb3IwXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBTY2FsZWRMZHJDb2xvcjFfJHtpZH1gLCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGBTY2VuZURlcHRoXyR7aWR9YCwgRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFJhZGlhbmNlMF8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFJhZGlhbmNlMV8ke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYExkckNvbG9yMF8ke2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgTGRyQ29sb3IxXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFVpQ29sb3IwXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0KTtcbiAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYFVpQ29sb3IxXyR7aWR9YCwgRm9ybWF0LlJHQkE4LCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0KTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBidWlsZGVyIG9mIHRoaXMuX3Bhc3NCdWlsZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGVyLndpbmRvd1Jlc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLndpbmRvd1Jlc2l6ZShwcGwsIHRoaXMuX2NvbmZpZ3MsIHRoaXMuX2NhbWVyYUNvbmZpZ3MsIHdpbmRvdywgY2FtZXJhLCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXAoY2FtZXJhczogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhW10sIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUpOiB2b2lkIHtcbiAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IE1ha2UgZGVmYXVsdCBlZmZlY3QgYXNzZXQgbG9hZGluZyBlYXJsaWVyIGFuZCByZW1vdmUgX2luaXRNYXRlcmlhbHNcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbml0TWF0ZXJpYWxzKHBwbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW5kZXIgY2FtZXJhc1xuICAgICAgICAgICAgLy8gbG9nKGA9PT09PT09PT09PT09PT09PT09PSBPbmUgRnJhbWUgPT09PT09PT09PT09PT09PT09PT1gKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FtZXJhIG9mIGNhbWVyYXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGludmFsaWQgY2FtZXJhXG4gICAgICAgICAgICAgICAgaWYgKCFjYW1lcmEuc2NlbmUgfHwgIWNhbWVyYS53aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNldHVwIGNhbWVyYSBjb25maWdzXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dXBDYW1lcmFDb25maWdzKGNhbWVyYSwgdGhpcy5fY29uZmlncywgdGhpcy5fY2FtZXJhQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgLy8gbG9nKGBTZXR1cCBjYW1lcmE6ICR7Y2FtZXJhLm5vZGUhLm5hbWV9LCB3aW5kb3c6ICR7Y2FtZXJhLndpbmRvdy5yZW5kZXJXaW5kb3dJZH0sIGlzRnVsbDogJHt0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZX0sIGBcbiAgICAgICAgICAgICAgICAvLyAgICAgKyBgc2l6ZTogJHtjYW1lcmEud2luZG93LndpZHRofXgke2NhbWVyYS53aW5kb3cuaGVpZ2h0fWApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZWxpbmVFdmVudC5lbWl0KFBpcGVsaW5lRXZlbnRUeXBlLlJFTkRFUl9DQU1FUkFfQkVHSU4sIGNhbWVyYSk7XG5cbiAgICAgICAgICAgICAgICAvLyBCdWlsZCBwaXBlbGluZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZ1bGxQaXBlbGluZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRQaXBlbGluZShwcGwsIGNhbWVyYSwgY2FtZXJhLnNjZW5lLCB0aGlzLl9wYXNzQnVpbGRlcnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkU2ltcGxlUGlwZWxpbmUocHBsLCBjYW1lcmEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3BpcGVsaW5lRXZlbnQuZW1pdChQaXBlbGluZUV2ZW50VHlwZS5SRU5ERVJfQ0FNRVJBX0VORCwgY2FtZXJhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIFBpcGVsaW5lc1xuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHByaXZhdGUgX2J1aWxkU2ltcGxlUGlwZWxpbmUoXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXG4gICAgICAgICk6IHZvaWQge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heChNYXRoLmZsb29yKGNhbWVyYS53aW5kb3cud2lkdGgpLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhLndpbmRvdy5oZWlnaHQpLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yTmFtZSA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lO1xuICAgICAgICAgICAgY29uc3QgZGVwdGhTdGVuY2lsTmFtZSA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuZGVwdGhTdGVuY2lsTmFtZTtcblxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBjYW1lcmEudmlld3BvcnQ7ICAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LmxlZnQgPSBNYXRoLnJvdW5kKHZpZXdwb3J0LnggKiB3aWR0aCk7XG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC50b3AgPSBNYXRoLnJvdW5kKHZpZXdwb3J0LnkgKiBoZWlnaHQpO1xuICAgICAgICAgICAgLy8gSGVyZSB3ZSBtdXN0IHVzZSBjYW1lcmEudmlld3BvcnQud2lkdGggaW5zdGVhZCBvZiBjYW1lcmEudmlld3BvcnQueiwgd2hpY2hcbiAgICAgICAgICAgIC8vIGlzIHVuZGVmaW5lZCBvbiBuYXRpdmUgcGxhdGZvcm0uIFRoZSBzYW1lIGFzIGNhbWVyYS52aWV3cG9ydC5oZWlnaHQuXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC53aWR0aCA9IE1hdGgubWF4KE1hdGgucm91bmQodmlld3BvcnQud2lkdGggKiB3aWR0aCksIDEpO1xuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC5oZWlnaHQgKiBoZWlnaHQpLCAxKTtcblxuICAgICAgICAgICAgY29uc3QgY2xlYXJDb2xvciA9IGNhbWVyYS5jbGVhckNvbG9yOyAgLy8gUmVkdWNlIEMrKy9UUyBpbnRlcm9wXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnkgPSBjbGVhckNvbG9yLnk7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnogPSBjbGVhckNvbG9yLno7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xuXG4gICAgICAgICAgICAvLyBiaW5kIG91dHB1dCByZW5kZXIgdGFyZ2V0XG4gICAgICAgICAgICBpZiAoZm9yd2FyZE5lZWRDbGVhckNvbG9yKGNhbWVyYSkpIHtcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIFN0b3JlT3AuU1RPUkUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiaW5kIGRlcHRoIHN0ZW5jaWwgYnVmZmVyXG4gICAgICAgICAgICBpZiAoY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMKSB7XG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcbiAgICAgICAgICAgICAgICAgICAgU3RvcmVPcC5ESVNDQVJELFxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJEZXB0aCxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyU3RlbmNpbCxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLkRJU0NBUkQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXNzLnNldFZpZXdwb3J0KHRoaXMuX3ZpZXdwb3J0KTtcblxuICAgICAgICAgICAgLy8gVGhlIG9wYXF1ZSBxdWV1ZSBpcyB1c2VkIGZvciBSZWZsZWN0aW9uIHByb2JlIHByZXZpZXdcbiAgICAgICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBTY2VuZUZsYWdzLk9QQVFVRSk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBibGVuZCBxdWV1ZSBpcyB1c2VkIGZvciBVSSBhbmQgR2l6bW9zXG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBTY2VuZUZsYWdzLkJMRU5EIHwgU2NlbmVGbGFncy5VSTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgfD0gU2NlbmVGbGFncy5QUk9GSUxFUjtcbiAgICAgICAgICAgICAgICBwYXNzLnNob3dTdGF0aXN0aWNzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50LkJMRU5EKVxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIGZsYWdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRm9yd2FyZFBpcGVsaW5lKFxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxuICAgICAgICAgICAgc2NlbmU6IHJlbmRlcmVyLlJlbmRlclNjZW5lLFxuICAgICAgICAgICAgcGFzc0J1aWxkZXJzOiByZW5kZXJpbmcuUGlwZWxpbmVQYXNzQnVpbGRlcltdLFxuICAgICAgICApOiB2b2lkIHtcbiAgICAgICAgICAgIHNvcnRQaXBlbGluZVBhc3NCdWlsZGVyc0J5UmVuZGVyT3JkZXIocGFzc0J1aWxkZXJzKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGV4dDogUGlwZWxpbmVDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIGNvbG9yTmFtZTogJycsXG4gICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogJycsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgbGFzdFBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkZXIgb2YgcGFzc0J1aWxkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJ1aWxkZXIuc2V0dXApIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhc3MgPSBidWlsZGVyLnNldHVwKHBwbCwgdGhpcy5fY29uZmlncywgdGhpcy5fY2FtZXJhQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVyYSwgY29udGV4dCwgbGFzdFBhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NhbWVyYUNvbmZpZ3MucmVtYWluaW5nUGFzc2VzID09PSAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgX2luaXRNYXRlcmlhbHMocHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSk6IG51bWJlciB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0dXBQaXBlbGluZUNvbmZpZ3MocHBsLCB0aGlzLl9jb25maWdzKTtcblxuICAgICAgICAgICAgLy8gV2hlbiBhZGQgbmV3IGVmZmVjdCBhc3NldCwgcGxlYXNlIGFkZCBpdHMgdXVpZCB0byB0aGUgZGVwZW5kZW50QXNzZXRzIGluIGNjLmNvbmZpZy5qc29uLlxuICAgICAgICAgICAgdGhpcy5fY29weUFuZFRvbmVtYXBNYXRlcmlhbC5fdXVpZCA9IGBidWlsdGluLXBpcGVsaW5lLXRvbmUtbWFwcGluZy1tYXRlcmlhbGA7XG4gICAgICAgICAgICB0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLmluaXRpYWxpemUoeyBlZmZlY3ROYW1lOiAncGlwZWxpbmUvcG9zdC1wcm9jZXNzL3RvbmUtbWFwcGluZycgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLmVmZmVjdEFzc2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQgPyAwIDogMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcmluZy5zZXRDdXN0b21QaXBlbGluZSgnQnVpbHRpbicsIG5ldyBCdWlsdGluUGlwZWxpbmVCdWlsZGVyKCkpO1xuXG59IC8vIGlmIChyZW5kZXJpbmcpXG4iLCJleHBvcnQgY29uc3QgSFRNTDUgPSB0cnVlO1xuZXhwb3J0IGNvbnN0IE5BVElWRSA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IEFORFJPSUQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBJT1MgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBNQUMgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBXSU5ET1dTID0gZmFsc2U7XG5leHBvcnQgY29uc3QgTElOVVggPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBPSE9TID0gZmFsc2U7XG5leHBvcnQgY29uc3QgT1BFTl9IQVJNT05ZID0gZmFsc2U7XG5leHBvcnQgY29uc3QgV0VDSEFUID0gZmFsc2U7XG5leHBvcnQgY29uc3QgV0VDSEFUX01JTklfUFJPR1JBTSA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IEJBSURVID0gZmFsc2U7XG5leHBvcnQgY29uc3QgWElBT01JID0gZmFsc2U7XG5leHBvcnQgY29uc3QgQUxJUEFZID0gZmFsc2U7XG5leHBvcnQgY29uc3QgVEFPQkFPID0gZmFsc2U7XG5leHBvcnQgY29uc3QgVEFPQkFPX01JTklHQU1FID0gZmFsc2U7XG5leHBvcnQgY29uc3QgQllURURBTkNFID0gZmFsc2U7XG5leHBvcnQgY29uc3QgT1BQTyA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IFZJVk8gPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBIVUFXRUkgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBDT0NPU1BMQVkgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBRVFQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBMSU5LU1VSRSA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IE1JR1UgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBFRElUT1IgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBFRElUT1JfTk9UX0lOX1BSRVZJRVcgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBQUkVWSUVXID0gZmFsc2U7XG5leHBvcnQgY29uc3QgQlVJTEQgPSB0cnVlO1xuZXhwb3J0IGNvbnN0IFRFU1QgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBERUJVRyA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IERFViA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IE1JTklHQU1FID0gZmFsc2U7XG5leHBvcnQgY29uc3QgUlVOVElNRV9CQVNFRCA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRfSklUID0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBKU0IgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBORVRfTU9ERSA9IDA7Il19